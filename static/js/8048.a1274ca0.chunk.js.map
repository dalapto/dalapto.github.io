{"version":3,"file":"static/js/8048.a1274ca0.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/support/tagSymbols.js","../node_modules/@arcgis/core/layers/GroupLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nconst e=Symbol(\"WebScene\");export{e as WebSceneTag};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import i from\"../core/CollectionFlattener.js\";import{loadAll as t}from\"../core/loadAll.js\";import r from\"../core/Logger.js\";import{MultiOriginJSONMixin as s}from\"../core/MultiOriginJSONSupport.js\";import{watch as o,syncAndInitial as l,on as a,sync as n}from\"../core/reactiveUtils.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{getProperties as d}from\"../core/accessorSupport/utils.js\";import{subclass as y}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as h}from\"../core/accessorSupport/decorators/writer.js\";import c from\"./Layer.js\";import{BlendLayer as m}from\"./mixins/BlendLayer.js\";import{OperationalLayer as u}from\"./mixins/OperationalLayer.js\";import{PortalLayer as b}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as v}from\"./mixins/ScaleRangeLayer.js\";import{layerLookupMap as f}from\"./support/lazyLayerLoader.js\";import{createFlattenedTablesCollection as j}from\"../support/collectionUtils.js\";import{LayersMixin as L}from\"../support/LayersMixin.js\";import{TablesMixin as g}from\"../support/TablesMixin.js\";import{WebSceneTag as _}from\"../support/tagSymbols.js\";import{getLayerJSON as O}from\"../webdoc/support/writeUtils.js\";let w=class extends(m(v(u(b(g(L(s(c)))))))){constructor(e){super(e),this.allLayers=new i({getCollections:()=>[this.layers],getChildrenFunction:e=>\"layers\"in e?e.layers:null}),this.allTables=j(this),this.fullExtent=void 0,this.operationalLayerType=\"GroupLayer\",this.spatialReference=void 0,this.type=\"group\"}initialize(){this._enforceVisibility(this.visibilityMode,this.visible),this.addHandles([o((()=>{let e=this.parent;for(;e&&\"parent\"in e&&e.parent;)e=e.parent;return e&&_ in e}),(e=>{const i=\"prevent-adding-tables\";this.removeHandles(i),e&&(this.tables.removeAll(),this.addHandles(a((()=>this.tables),\"before-add\",(e=>{e.preventDefault(),r.getLogger(this).errorOnce(\"tables\",\"Tables are not yet supported in a WebScene so they can't be added.\")})),i))}),l),o((()=>this.visible),this._onVisibilityChange.bind(this),n)])}destroy(){this.allLayers.destroy(),this.allTables.destroy()}_writeLayers(e,i,t,r){const s=[];if(!e)return s;e.forEach((e=>{const i=O(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);null!=i&&i.layerType&&s.push(i)})),i.layers=s}set portalItem(e){this._set(\"portalItem\",e)}set visibilityMode(e){const i=this._get(\"visibilityMode\")!==e;this._set(\"visibilityMode\",e),i&&this._enforceVisibility(e,this.visible)}load(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Feature Service\",\"Feature Collection\",\"Scene Service\"],layerModuleTypeMap:f},e)),Promise.resolve(this)}async loadAll(){return t(this,(e=>{e(this.layers,this.tables)}))}layerAdded(e){e.visible&&\"exclusive\"===this.visibilityMode?this._turnOffOtherLayers(e):\"inherited\"===this.visibilityMode&&(e.visible=this.visible),this.hasHandles(e.uid)?console.error(`Layer readded to Grouplayer: uid=${e.uid}`):this.addHandles(o((()=>e.visible),(i=>this._onChildVisibilityChange(e,i)),n),e.uid)}layerRemoved(e){this.removeHandles(e.uid),this._enforceVisibility(this.visibilityMode,this.visible)}_turnOffOtherLayers(e){this.layers.forEach((i=>{i!==e&&(i.visible=!1)}))}_enforceVisibility(e,i){if(!d(this).initialized)return;const t=this.layers;let r=t.find((e=>e.visible));switch(e){case\"exclusive\":t.length&&!r&&(r=t.at(0),r.visible=!0),this._turnOffOtherLayers(r);break;case\"inherited\":t.forEach((e=>{e.visible=i}))}}_onVisibilityChange(e){\"inherited\"===this.visibilityMode&&this.layers.forEach((i=>{i.visible=e}))}_onChildVisibilityChange(e,i){switch(this.visibilityMode){case\"exclusive\":i?this._turnOffOtherLayers(e):this._isAnyLayerVisible()||(e.visible=!0);break;case\"inherited\":e.visible=this.visible}}_isAnyLayerVisible(){return this.layers.some((e=>e.visible))}};e([p({readOnly:!0,dependsOn:[]})],w.prototype,\"allLayers\",void 0),e([p({readOnly:!0})],w.prototype,\"allTables\",void 0),e([p()],w.prototype,\"fullExtent\",void 0),e([p({json:{read:!0,write:!0}})],w.prototype,\"blendMode\",void 0),e([p({json:{read:!1,write:{ignoreOrigin:!0}}})],w.prototype,\"layers\",void 0),e([h(\"layers\")],w.prototype,\"_writeLayers\",null),e([p({type:[\"GroupLayer\"]})],w.prototype,\"operationalLayerType\",void 0),e([p({json:{origins:{\"web-document\":{read:!1,write:!1}}}})],w.prototype,\"portalItem\",null),e([p()],w.prototype,\"spatialReference\",void 0),e([p({json:{read:!1},readOnly:!0,value:\"group\"})],w.prototype,\"type\",void 0),e([p({type:[\"independent\",\"inherited\",\"exclusive\"],value:\"independent\",json:{write:!0,origins:{\"web-map\":{type:[\"independent\",\"exclusive\"],write:(e,i,t)=>{\"inherited\"!==e&&(i[t]=e)}}}}})],w.prototype,\"visibilityMode\",null),w=e([y(\"esri.layers.GroupLayer\")],w);const M=w;export{M as default};\n"],"names":["e","Symbol","w","_m","_inherits","_super","_createSuper","_this","_classCallCheck","call","allLayers","i","getCollections","layers","getChildrenFunction","allTables","j","_assertThisInitialized","fullExtent","operationalLayerType","spatialReference","type","_createClass","key","value","_this2","this","_enforceVisibility","visibilityMode","visible","addHandles","o","parent","_","removeHandles","tables","removeAll","a","preventDefault","r","getLogger","errorOnce","l","_onVisibilityChange","bind","n","destroy","t","s","forEach","O","webmap","getLayerJSONFromResourceInfo","layerType","push","set","_set","_get","addResolvingPromise","loadFromPortal","supportedTypes","layerModuleTypeMap","f","Promise","resolve","_loadAll","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_this3","wrap","_context","prev","next","abrupt","stop","apply","arguments","_this4","_turnOffOtherLayers","hasHandles","uid","console","error","concat","_onChildVisibilityChange","d","initialized","find","length","at","_isAnyLayerVisible","some","m","v","u","b","g","L","c","p","readOnly","dependsOn","prototype","json","read","write","ignoreOrigin","h","origins","M","y"],"sourceRoot":""}