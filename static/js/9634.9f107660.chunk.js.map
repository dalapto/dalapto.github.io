{"version":3,"file":"static/js/9634.9f107660.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/portal/support/resourceUtils.js","../node_modules/@arcgis/core/webdoc/support/saveUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{join as r,getPathExtension as a}from\"../../core/urlUtils.js\";async function s(e,t={},a){await e.load(a);const s=r(e.itemUrl,\"resources\"),{start:o=1,num:n=10,sortOrder:u=\"asc\",sortField:l=\"created\"}=t,c={query:{start:o,num:n,sortOrder:u,sortField:l,token:e.apiKey},signal:a?.signal},i=await e.portal.request(s,c);return{total:i.total,nextStart:i.nextStart,resources:i.resources.map((({created:t,size:r,resource:a})=>({created:new Date(t),size:r,resource:e.resourceFromPath(a)})))}}async function o(e,a,s,o){if(!e.hasPath())throw new t(`portal-item-resource-${a}:invalid-path`,\"Resource does not have a valid path\");const n=e.portalItem;await n.load(o);const u=r(n.userItemUrl,\"add\"===a?\"addResources\":\"updateResources\"),[c,i]=l(e.path),d=await p(s),m=new FormData;return c&&\".\"!==c&&m.append(\"resourcesPrefix\",c),null!=o&&o.compress&&m.append(\"compress\",\"true\"),m.append(\"fileName\",i),m.append(\"file\",d,i),m.append(\"f\",\"json\"),null!=o&&o.access&&m.append(\"access\",o.access),await n.portal.request(u,{method:\"post\",body:m,signal:o?.signal}),e}async function n(e,a,s){if(!a.hasPath())throw new t(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await e.load(s);const o=r(e.userItemUrl,\"removeResources\");await e.portal.request(o,{method:\"post\",query:{resource:a.path},signal:s?.signal}),a.portalItem=null}async function u(e,t){await e.load(t);const a=r(e.userItemUrl,\"removeResources\");return e.portal.request(a,{method:\"post\",query:{deleteAll:!0},signal:t?.signal})}function l(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function c(e){const[t,r]=i(e),[a,s]=l(t);return[a,s,r]}function i(e){const t=a(e);return null==t?[e,\"\"]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function p(t){if(t instanceof Blob)return t;return(await e(t.url,{responseType:\"blob\"})).data}function d(e,t){if(!e.hasPath())return null;const[a,,s]=c(e.path);return e.portalItem.resourceFromPath(r(a,t+s))}function m(e,t){if(!e.hasPath())return null;const[a,,s]=c(e.path);return e.portalItem.resourceFromPath(r(a,t+s))}export{o as addOrUpdateResource,p as contentToBlob,s as fetchResources,d as getSiblingOfSameType,m as getSiblingOfSameTypeI,u as removeAllResources,n as removeResource,c as splitPrefixFileNameAndExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{result as r}from\"../../core/asyncUtils.js\";import e from\"../../core/Error.js\";import{eachAlways as o,throwIfAborted as t}from\"../../core/promiseUtils.js\";import{generateUUID as s}from\"../../core/uuid.js\";import{getSiblingOfSameTypeI as c}from\"../../portal/support/resourceUtils.js\";async function p(r,p,u){if(!p||!p.resources)return;const h=p.portalItem===r.portalItem?new Set(r.paths):new Set;r.paths.length=0,r.portalItem=p.portalItem;const i=new Set(p.resources.toKeep.map((r=>r.resource.path))),m=new Set,f=[];i.forEach((e=>{h.delete(e),r.paths.push(e)}));for(const e of p.resources.toUpdate)if(h.delete(e.resource.path),i.has(e.resource.path)||m.has(e.resource.path)){const{resource:o,content:t,finish:p,error:n}=e,h=c(o,s());r.paths.push(h.path),f.push(a({resource:h,content:t,compress:e.compress,finish:p,error:n},u))}else r.paths.push(e.resource.path),f.push(n(e,u)),m.add(e.resource.path);for(const e of p.resources.toAdd)f.push(a(e,u)),r.paths.push(e.resource.path);if(h.forEach((r=>{if(p.portalItem){const e=p.portalItem.resourceFromPath(r);f.push(e.portalItem.removeResource(e).catch((()=>{})))}})),0===f.length)return;const l=await o(f);t(u);const d=l.filter((r=>\"error\"in r)).map((r=>r.error));if(d.length>0)throw new e(\"save:resources\",\"Failed to save one or more resources\",{errors:d})}async function a(e,o){const t={...null!=o?o:{},compress:e.compress},s=await r(e.resource.portalItem.addResource(e.resource,e.content,t));if(!0!==s.ok)throw e.error?.(s.error),s.error;e.finish?.(e.resource)}async function n(e,o){const t=await r(e.resource.update(e.content,o));if(!0!==t.ok)throw e.error?.(t.error),t.error;e.finish?.(e.resource)}export{p as saveResources};\n"],"names":["s","_x","_s","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","t","a","_t$start","o","_t$num","n","_t$sortOrder","u","_t$sortField","c","i","_args","wrap","_context","prev","next","length","undefined","load","r","itemUrl","start","num","sortOrder","sortField","query","token","apiKey","signal","portal","request","sent","abrupt","total","nextStart","resources","map","_ref","created","size","resource","Date","resourceFromPath","stop","_x2","_x3","_x4","_x5","_o","_callee2","_l3","_l4","d","m","_context2","hasPath","concat","portalItem","userItemUrl","l","path","_slicedToArray","p","FormData","append","compress","access","method","body","_x6","_x7","_x8","_n","_callee3","_context3","_x9","_x10","_u","_callee4","_context4","deleteAll","lastIndexOf","slice","_i","_i2","_l","_l2","_x11","_p","_callee5","_context5","Blob","url","responseType","data","_c","_c2","_c3","_c4","h","f","_iterator","_step","_e2","_t","_p2","_n2","_h","_iterator2","_step2","_e3","Set","paths","toKeep","forEach","delete","push","_createForOfIteratorHelper","toUpdate","done","value","has","content","finish","error","add","err","toAdd","removeResource","catch","filter","errors","_a","_e$error","_e$finish","_objectSpread","addResource","ok","call","_e$error2","_e$finish2","update"],"sourceRoot":""}