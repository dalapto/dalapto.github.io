"use strict";(self.webpackChunkreact=self.webpackChunkreact||[]).push([[6761],{11873:function(e,t,r){function n(){return[1,0,0,0,1,0,0,0,1]}function i(e,t,r,n,i,o,u,a,f){return[e,t,r,n,i,o,u,a,f]}function o(e,t){return new Float64Array(e,t,9)}r.d(t,{a:function(){return o},c:function(){return n},f:function(){return i}});Object.freeze(Object.defineProperty({__proto__:null,clone:function(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},create:n,createView:o,fromValues:i},Symbol.toStringTag,{value:"Module"}))},81949:function(e,t,r){function n(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function o(e,t){return new Float64Array(e,t,16)}r.d(t,{I:function(){return u},a:function(){return o},b:function(){return i},c:function(){return n}});var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:u,clone:i,create:n,createView:o,fromValues:function(e,t,r,n,i,o,u,a,f,c,s,l,h,d,p,v){return[e,t,r,n,i,o,u,a,f,c,s,l,h,d,p,v]}},Symbol.toStringTag,{value:"Module"}))},98131:function(e,t,r){function n(){return[0,0,0,1]}function i(e){return[e[0],e[1],e[2],e[3]]}function o(e,t){return new Float64Array(e,t,4)}r.d(t,{I:function(){return u},a:function(){return n},b:function(){return i},c:function(){return o}});var u=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:u,clone:i,create:n,createView:o,fromValues:function(e,t,r,n){return[e,t,r,n]}},Symbol.toStringTag,{value:"Module"}))},71417:function(e,t,r){r.d(t,{a:function(){return g},c:function(){return v},g:function(){return m},h:function(){return y},j:function(){return w},l:function(){return A}});r(93169);var n,i=r(32718),o=r(16889),u=r(14226),a=r(11186),f=r(71353),c=r(90045),s=r(67077);!function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"}(n||(n={}));var l=r(40885),h=r(40927),d=r(51378),p=v();function v(){return(0,s.c)()}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v();return(0,c.c)(t,e)}function g(e){return e[3]}function m(e){return e}function b(e,t,r){if(null==t)return!1;var n=t.origin,i=t.direction,o=_;o[0]=n[0]-e[0],o[1]=n[1]-e[1],o[2]=n[2]-e[2];var u=i[0]*i[0]+i[1]*i[1]+i[2]*i[2];if(0===u)return!1;var a=2*(i[0]*o[0]+i[1]*o[1]+i[2]*o[2]),f=a*a-4*u*(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]-e[3]*e[3]);if(f<0)return!1;var c=Math.sqrt(f),s=(-a-c)/(2*u),l=(-a+c)/(2*u);return(s<0||l<s&&l>0)&&(s=l),!(s<0)&&(r&&(r[0]=n[0]+i[0]*s,r[1]=n[1]+i[1]*s,r[2]=n[2]+i[2]*s),!0)}var _=(0,f.c)();function w(e,t){return b(e,t,null)}function M(e,t,r){var n=d.WM.get(),i=d.MP.get();(0,a.f)(n,t.origin,t.direction);var o=g(e);(0,a.f)(r,n,t.origin),(0,a.g)(r,r,1/(0,a.l)(r)*o);var f=E(e,t.origin),c=(0,h.EU)(t.origin,r);return(0,u.d)(i,c+f,n),(0,a.m)(r,r,i),r}function S(e,t,r){var n=(0,a.b)(d.WM.get(),t,e),i=(0,a.g)(d.WM.get(),n,e[3]/(0,a.l)(n));return(0,a.a)(r,i,e)}function E(e,t){var r=(0,a.b)(d.WM.get(),t,e),n=(0,a.l)(r),i=g(e),u=i+Math.abs(i-n);return(0,o.ZF)(i/u)}var P=(0,f.c)();function Z(e,t,r,i){var u=(0,a.b)(P,t,e);switch(r){case n.X:var f=(0,o.jE)(u,P)[2];return(0,a.s)(i,-Math.sin(f),Math.cos(f),0);case n.Y:var c=(0,o.jE)(u,P),s=c[1],l=c[2],h=Math.sin(s);return(0,a.s)(i,-h*Math.cos(l),-h*Math.sin(l),Math.cos(s));case n.Z:return(0,a.n)(i,u);default:return}}function B(e,t){var r=(0,a.b)(x,t,e);return(0,a.l)(r)-e[3]}function A(e,t){var r=(0,a.d)(e,t),n=g(e);return r<=n*n}var x=(0,f.c)(),R=v();Object.freeze(Object.defineProperty({__proto__:null,NullSphere:p,altitudeAt:B,angleToSilhouette:E,axisAt:Z,clear:function(e){e[0]=e[1]=e[2]=e[3]=0},closestPoint:function(e,t,r){return b(e,t,r)?r:((0,l.JI)(t,e,r),S(e,r,r))},closestPointOnSilhouette:M,containsPoint:A,copy:y,create:v,distanceToSilhouette:function(e,t){var r=(0,a.b)(d.WM.get(),t,e),n=(0,a.p)(r),i=e[3]*e[3];return Math.sqrt(Math.abs(n-i))},elevate:function(e,t,r){return e!==r&&(0,a.c)(r,e),r[3]=e[3]+t,r},fromCenterAndRadius:function(e,t){return(0,s.f)(e[0],e[1],e[2],t)},fromRadius:function(e,t){return e[0]=e[1]=e[2]=0,e[3]=t,e},fromValues:function(e,t,r,n){return(0,s.f)(e,t,r,n)},getCenter:m,getRadius:g,intersectRay:b,intersectRayClosestSilhouette:function(e,t,r){if(b(e,t,r))return r;var n=M(e,t,d.WM.get());return(0,a.a)(r,t.origin,(0,a.g)(d.WM.get(),t.direction,(0,a.i)(t.origin,n)/(0,a.l)(t.direction))),r},intersectsRay:w,projectPoint:S,setAltitudeAt:function(e,t,r,i){var o=B(e,t),u=Z(e,t,n.Z,x),f=(0,a.g)(x,u,r-o);return(0,a.a)(i,t,f)},setExtent:function(e,t,r){return i.Z.getLogger("esri.geometry.support.sphere").error("sphere.setExtent is not yet supported"),e===r?r:y(e,r)},tmpSphere:R,union:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v(),n=(0,a.i)(e,t),i=e[3],o=t[3];return n+o<i?((0,c.c)(r,e),r):n+i<o?((0,c.c)(r,t),r):((0,a.h)(r,e,t,(n+o-i)/(2*n)),r[3]=(n+i+o)/2,r)},wrap:function(e){return e}},Symbol.toStringTag,{value:"Module"}))},32035:function(e,t,r){r.d(t,{a:function(){return a},b:function(){return u},c:function(){return i},d:function(){return s},e:function(){return f},n:function(){return l},s:function(){return c},t:function(){return o}});var n=r(77873);function i(e,t,r){o(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)}function o(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i;if(e.length/i!==Math.ceil(t.length/o))return n.c.error("source and destination buffers need to have the same number of elements"),e;for(var u=e.length/i,a=r[0],f=r[1],c=r[2],s=r[4],l=r[5],h=r[6],d=r[8],p=r[9],v=r[10],y=r[12],g=r[13],m=r[14],b=0,_=0,w=0;w<u;w++){var M=t[b],S=t[b+1],E=t[b+2];e[_]=a*M+s*S+d*E+y,e[_+1]=f*M+l*S+p*E+g,e[_+2]=c*M+h*S+v*E+m,b+=o,_+=i}return e}function u(e,t,r){a(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)}function a(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i;if(e.length/i===Math.ceil(t.length/o))for(var u=e.length/i,a=r[0],f=r[1],c=r[2],s=r[3],l=r[4],h=r[5],d=r[6],p=r[7],v=r[8],y=0,g=0,m=0;m<u;m++){var b=t[y],_=t[y+1],w=t[y+2];e[g]=a*b+s*_+d*w,e[g+1]=f*b+l*_+p*w,e[g+2]=c*b+h*_+v*w,y+=o,g+=i}else n.c.error("source and destination buffers need to have the same number of elements")}function f(e,t,r){c(e.typedBuffer,t,r,e.typedBufferStride)}function c(e,t,r){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,i=Math.min(e.length/n,t.count),o=t.typedBuffer,u=t.typedBufferStride,a=0,f=0,c=0;c<i;c++)e[f]=r*o[a],e[f+1]=r*o[a+1],e[f+2]=r*o[a+2],a+=u,f+=n}function s(e,t){l(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function l(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r,i=Math.min(e.length/r,t.length/n),o=0,u=0,a=0;a<i;a++){var f=t[o],c=t[o+1],s=t[o+2],l=f*f+c*c+s*s;if(l>0){var h=1/Math.sqrt(l);e[u]=h*f,e[u+1]=h*c,e[u+2]=h*s}o+=n,u+=r}}Object.freeze(Object.defineProperty({__proto__:null,normalize:l,normalizeView:s,scale:c,scaleView:f,shiftRight:function(e,t,r){for(var n=Math.min(e.count,t.count),i=e.typedBuffer,o=e.typedBufferStride,u=t.typedBuffer,a=t.typedBufferStride,f=0,c=0,s=0;s<n;s++)i[c]=u[f]>>r,i[c+1]=u[f+1]>>r,i[c+2]=u[f+2]>>r,f+=a,c+=o},transformMat3:a,transformMat3View:u,transformMat4:o,transformMat4View:i},Symbol.toStringTag,{value:"Module"}))},70116:function(e,t,r){var n;r.d(t,{Y:function(){return n}}),function(e){e[e.KILOBYTES=1024]="KILOBYTES",e[e.MEGABYTES=1048576]="MEGABYTES",e[e.GIGABYTES=1073741824]="GIGABYTES"}(n||(n={}))},21530:function(e,t,r){r.d(t,{x:function(){return u}});var n=r(15671),i=r(43144),o=r(70758),u=function(){function e(t){(0,n.Z)(this,e),this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}return(0,i.Z)(e,[{key:"get",value:function(){var e=this;return 0===this._itemsPtr&&(0,o.Y)((function(){return e._reset()})),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}},{key:"_reset",value:function(){var e=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*a);this._items.length=Math.min(e,this._items.length),this._itemsPtr=0}},{key:"_grow",value:function(){for(var e=0;e<Math.max(8,Math.min(this._items.length,a));e++)this._items.push(this._allocator())}}]),e}(),a=1024},86372:function(e,t,r){r.d(t,{JK:function(){return a},QZ:function(){return o},Rq:function(){return u},bg:function(){return i},mB:function(){return f}});var n=r(18722);function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e<=n.DB?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function o(e){return((0,n.kJ)(e)?e.length:e.byteLength/8)<=n.DB?Array.from(e):new Float64Array(e)}function u(e,t,r){return Array.isArray(e)?e.slice(t,t+r):e.subarray(t,t+r)}function a(e,t){for(var r=0;r<t.length;++r)e[r]=t[r];return e}function f(e){return Array.isArray(e)?new Float64Array(e):e}},80880:function(e,t,r){r.d(t,{Z:function(){return g}});var n=r(29439),i=r(15671),o=r(43144),u=r(60136),a=r(29388),f=r(27366),c=r(11582),s=r(46784),l=r(49861),h=(r(25243),r(63780),r(93169),r(27135)),d=r(69912),p=r(71353),v=r(585),y=function(e){(0,u.Z)(r,e);var t=(0,a.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).type="georeferenced-relative",n.isRelative=!0,n.isGeoreferenced=!0,n.origin=(0,p.c)(),n}return(0,o.Z)(r,[{key:"getOriginPoint",value:function(e){var t=(0,n.Z)(this.origin,3),r=t[0],i=t[1],o=t[2];return new v.Z({x:r,y:i,z:o,spatialReference:e})}},{key:"setOriginFormPoint",value:function(e){var t=e.x,r=e.y,n=e.z;this.origin=(0,p.f)(t,r,null!==n&&void 0!==n?n:0)}}]),r}((0,c.J)(s.wq));(0,f._)([(0,h.J)({georeferencedRelative:"georeferenced-relative"},{readOnly:!0})],y.prototype,"type",void 0),(0,f._)([(0,l.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],y.prototype,"origin",void 0);var g=y=(0,f._)([(0,d.j)("esri.geometry.support.MeshGeoreferencedRelativeVertexSpace")],y)},8623:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(43144),i=r(15671),o=r(60136),u=r(29388),a=r(27366),f=r(11582),c=r(46784),s=(r(32718),r(25243),r(63780),r(93169),r(10064),r(27135)),l=r(69912),h=function(e){(0,o.Z)(r,e);var t=(0,u.Z)(r);function r(){var e;return(0,i.Z)(this,r),(e=t.call(this,{})).type="georeferenced",e.isRelative=!1,e.isGeoreferenced=!0,e}return(0,n.Z)(r)}((0,f.J)(c.wq));(0,a._)([(0,s.J)({georeferenced:"georeferenced"},{readOnly:!0})],h.prototype,"type",void 0);var d=h=(0,a._)([(0,l.j)("esri.geometry.support.MeshGeoreferencedVertexSpace")],h)},50250:function(e,t,r){r.d(t,{Z:function(){return g}});var n=r(29439),i=r(15671),o=r(43144),u=r(60136),a=r(29388),f=r(27366),c=r(11582),s=r(46784),l=r(49861),h=(r(25243),r(63780),r(93169),r(27135)),d=r(69912),p=r(71353),v=r(585),y=function(e){(0,u.Z)(r,e);var t=(0,a.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).type="local",n.isRelative=!0,n.isGeoreferenced=!1,n.origin=(0,p.c)(),n}return(0,o.Z)(r,[{key:"getOriginPoint",value:function(e){var t=(0,n.Z)(this.origin,3),r=t[0],i=t[1],o=t[2];return new v.Z({x:r,y:i,z:o,spatialReference:e})}},{key:"setOriginFormPoint",value:function(e){var t=e.x,r=e.y,n=e.z;this.origin=(0,p.f)(t,r,null!==n&&void 0!==n?n:0)}}]),r}((0,c.J)(s.wq));(0,f._)([(0,h.J)({local:"local"},{readOnly:!0})],y.prototype,"type",void 0),(0,f._)([(0,l.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],y.prototype,"origin",void 0);var g=y=(0,f._)([(0,d.j)("esri.geometry.support.MeshLocalVertexSpace")],y)},77873:function(e,t,r){r.d(t,{c:function(){return n}});var n=r(32718).Z.getLogger("esri.views.3d.support.buffer.math")},40885:function(e,t,r){r.d(t,{JI:function(){return c},Ue:function(){return u},re:function(){return f}});r(63780);var n=r(21530),i=r(11186),o=r(71353);r(51378);function u(e){return e?a((0,o.a)(e.origin),(0,o.a)(e.direction)):a((0,o.c)(),(0,o.c)())}function a(e,t){return{origin:e,direction:t}}function f(e,t){var r=s.get();return r.origin=e,r.direction=t,r}function c(e,t,r){var n=(0,i.e)(e.direction,(0,i.b)(r,t,e.origin));return(0,i.a)(r,e.origin,(0,i.g)(r,e.direction,n)),r}var s=new n.x((function(){return u()}))},40927:function(e,t,r){r.d(t,{EU:function(){return u}});var n=r(16889),i=r(11186),o=r(71353);function u(e,t){var r=(0,i.e)(e,t)/((0,i.l)(e)*(0,i.l)(t));return-(0,n.ZF)(r)}(0,o.c)(),(0,o.c)()},51378:function(e,t,r){r.d(t,{MP:function(){return y},WM:function(){return v}});var n=r(15671),i=r(43144),o=r(70116),u=r(70758),a=r(11873),f=r(81949),c=r(98131),s=r(6394),l=r(71353),h=r(67077),d=function(){function e(t,r,i){(0,n.Z)(this,e),this._itemByteSize=t,this._itemCreate=r,this._buffers=new Array,this._items=new Array,this._itemsPtr=0,this._itemsPerBuffer=Math.ceil(i/this._itemByteSize)}return(0,i.Z)(e,[{key:"get",value:function(){var e=this;0===this._itemsPtr&&(0,u.Y)((function(){return e._reset()}));for(var t=Math.floor(this._itemsPtr/this._itemsPerBuffer);this._buffers.length<=t;){for(var r=new ArrayBuffer(this._itemsPerBuffer*this._itemByteSize),n=0;n<this._itemsPerBuffer;++n)this._items.push(this._itemCreate(r,n*this._itemByteSize));this._buffers.push(r)}return this._items[this._itemsPtr++]}},{key:"_reset",value:function(){for(var e=2*(Math.floor(this._itemsPtr/this._itemsPerBuffer)+1);this._buffers.length>e;)this._buffers.pop(),this._items.length=this._buffers.length*this._itemsPerBuffer;this._itemsPtr=0}},{key:"test",get:function(){return{size:this._buffers.length*this._itemsPerBuffer*this._itemByteSize}}}],[{key:"createVec2f64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return new e(16,s.c,t)}},{key:"createVec3f64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return new e(24,l.b,t)}},{key:"createVec4f64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return new e(32,h.a,t)}},{key:"createMat3f64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return new e(72,a.a,t)}},{key:"createMat4f64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return new e(128,f.a,t)}},{key:"createQuatf64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return new e(32,c.c,t)}}]),e}(),p=4*o.Y.KILOBYTES,v=(d.createVec2f64(),d.createVec3f64()),y=(d.createVec4f64(),d.createMat3f64(),d.createMat4f64());d.createQuatf64()},6761:function(e,t,r){r.r(t),r.d(t,{destroyContext:function(){return U},dracoDecompressPointCloudData:function(){return Z},filterObbsForModifications:function(){return A},filterObbsForModificationsSync:function(){return Y},initialize:function(){return G},interpretObbModificationResults:function(){return V},process:function(){return E},project:function(){return T},setLegacySchema:function(){return I},setModifications:function(){return R},setModificationsSync:function(){return j},test:function(){return J},transformNormals:function(){return F}});var n,i,o=r(29439),u=r(74165),a=r(15861),f=r(78952),c=r(86372),s=r(80880),l=r(8623),h=r(50250),d=r(32035);!function(e){e[e.None=0]="None",e[e.Int16=1]="Int16",e[e.Int32=2]="Int32"}(n||(n={})),function(e){e[e.Replace=0]="Replace",e[e.Outside=1]="Outside",e[e.Inside=2]="Inside",e[e.Finished=3]="Finished"}(i||(i={}));var p,v=r(65905);function y(e){return(0,v.V)("esri/libs/i3s/".concat(e))}var g,m,b,_,w;r(71417);!function(e){e[e.Unmodified=0]="Unmodified",e[e.Culled=1]="Culled",e[e.NotChecked=2]="NotChecked"}(g||(g={})),function(e){e[e.Unmodified=0]="Unmodified",e[e.PotentiallyModified=1]="PotentiallyModified",e[e.Culled=2]="Culled",e[e.Unknown=3]="Unknown",e[e.NotChecked=4]="NotChecked"}(m||(m={}));!function(e){e[e.Unknown=0]="Unknown",e[e.Uncached=1]="Uncached",e[e.Cached=2]="Cached"}(b||(b={})),function(e){e[e.None=0]="None",e[e.MaxScreenThreshold=1]="MaxScreenThreshold",e[e.ScreenSpaceRelative=2]="ScreenSpaceRelative",e[e.RemovedFeatureDiameter=3]="RemovedFeatureDiameter",e[e.DistanceRangeFromDefaultCamera=4]="DistanceRangeFromDefaultCamera"}(_||(_={})),function(e){e[e.Hole=0]="Hole",e[e.Leaf=1]="Leaf"}(w||(w={}));var M,S;function E(e){return P.apply(this,arguments)}function P(){return(P=(0,a.Z)((0,u.Z)().mark((function e(t){var r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:return r=[t.geometryBuffer],e.abrupt("return",{result:N(t,r),transferList:r});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return B.apply(this,arguments)}function B(){return B=(0,a.Z)((0,u.Z)().mark((function e(t){var r,n,i,o,a,f,c,s,l;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:if(n=[t.geometryBuffer],i=t.geometryBuffer,o=i.byteLength,a=S._malloc(o),(f=new Uint8Array(S.HEAPU8.buffer,a,o)).set(new Uint8Array(i)),c=S.dracoDecompressPointCloudData(a,f.byteLength),S._free(a),!(c.error.length>0)){e.next=7;break}throw new Error("i3s.wasm: ".concat(c.error));case 7:return s=(null===(r=c.featureIds)||void 0===r?void 0:r.length)>0?c.featureIds.slice():null,l=c.positions.slice(),e.abrupt("return",(s&&n.push(s.buffer),n.push(l.buffer),{result:{positions:l,featureIds:s},transferList:n}));case 9:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}function A(e){return x.apply(this,arguments)}function x(){return(x=(0,a.Z)((0,u.Z)().mark((function e(t){var r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:return Y(t),r={buffer:t.buffer},e.abrupt("return",{result:r,transferList:[r.buffer]});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return k.apply(this,arguments)}function k(){return(k=(0,a.Z)((0,u.Z)().mark((function e(t){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:j(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return O.apply(this,arguments)}function O(){return(O=(0,a.Z)((0,u.Z)().mark((function e(t){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:S.setLegacySchema(t.context,t.jsonSchema);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return L.apply(this,arguments)}function L(){return L=(0,a.Z)((0,u.Z)().mark((function e(t){var n,i,a,d,p,v,y,g,m,b,_,w,M,S,E,P,Z,B,A,x;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.localMatrix,i=t.origin,a=t.positions,d=t.vertexSpace,p=t.local,v=f.Z.fromJSON(t.inSpatialReference),y=f.Z.fromJSON(t.outSpatialReference),"georeferenced"!==(g={georeferenced:l.Z,georeferencedRelative:s.Z,local:h.Z}[d.type].fromJSON(d)).type){e.next=13;break}return e.next=4,Promise.resolve().then(r.bind(r,52587));case 4:return b=e.sent,_=b.projectBuffer,w=b.initializeProjection,e.next=9,w(v,y);case 9:m=new Float64Array(a.length),_(a,v,0,m,y,0,m.length/3),e.next=18;break;case 13:return e.next=15,Promise.all([r.e(5158),r.e(7898)]).then(r.bind(r,57898));case 15:M=e.sent,S=M.project,m=(0,c.mB)(S({positions:a,transform:n?{localMatrix:n}:void 0,vertexSpace:g,inSpatialReference:v,outSpatialReference:y,local:p}));case 18:for(E=m.length,P=(0,o.Z)(i,3),Z=P[0],B=P[1],A=P[2],x=0;x<E;x+=3)m[x]-=Z,m[x+1]-=B,m[x+2]-=A;return e.abrupt("return",{result:{projected:m,original:a},transferList:[m.buffer,a.buffer]});case 21:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function F(e){return C.apply(this,arguments)}function C(){return C=(0,a.Z)((0,u.Z)().mark((function e(t){var r,n,i;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.normalMatrix,n=t.normals,i=new Float32Array(n.length),e.abrupt("return",((0,d.a)(i,n,r),(0,d.n)(i,i),{result:{transformed:i,original:n},transferList:[i.buffer,n.buffer]}));case 3:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}function U(e){z(e)}function j(e){for(var t=e.modifications,r=S._malloc(8*t.length),n=new Float64Array(S.HEAPU8.buffer,r,t.length),i=0;i<t.length;++i)n[i]=t[i];S.setModifications(e.context,r,t.length,e.isGeodetic),S._free(r)}function N(e,t){if(!S)return null;var r=e.context,i=e.localOrigin,o=e.globalTrafo,u=e.mbs,a=e.obb,f=e.elevationOffset,c=e.geometryBuffer,s=e.geometryDescriptor,l=e.indexToVertexProjector,h=e.vertexToRenderProjector,d=S._malloc(c.byteLength),p=S._malloc(33*Float64Array.BYTES_PER_ELEMENT),v=new Uint8Array(S.HEAPU8.buffer,d,c.byteLength);v.set(new Uint8Array(c));var y=new Float64Array(S.HEAPU8.buffer,p,33);D(y,i);var g=y.byteOffset+3*y.BYTES_PER_ELEMENT,m=new Float64Array(y.buffer,g);D(m,o),g+=16*y.BYTES_PER_ELEMENT,D(m=new Float64Array(y.buffer,g),u),g+=4*y.BYTES_PER_ELEMENT,null!=a&&(D(m=new Float64Array(y.buffer,g),a.center),g+=3*y.BYTES_PER_ELEMENT,D(m=new Float64Array(y.buffer,g),a.halfSize),g+=3*y.BYTES_PER_ELEMENT,D(m=new Float64Array(y.buffer,g),a.quaternion));var b=s,_={isDraco:!1,isLegacy:!1,color:e.layouts.some((function(e){return e.some((function(e){return"color"===e.name}))})),normal:e.needNormals&&e.layouts.some((function(e){return e.some((function(e){return"normalCompressed"===e.name}))})),uv0:e.layouts.some((function(e){return e.some((function(e){return"uv0"===e.name}))})),uvRegion:e.layouts.some((function(e){return e.some((function(e){return"uvRegion"===e.name}))})),featureIndex:b.featureIndex},w=S.process(r,!!e.obb,d,v.byteLength,b,_,p,f,l,h,e.normalReferenceFrame);if(S._free(p),S._free(d),w.error.length>0)throw new Error("i3s.wasm: ".concat(w.error));if(w.discarded)return null;var M=w.componentOffsets.length>0?w.componentOffsets.slice():null,E=w.featureIds.length>0?w.featureIds.slice():null,P=w.anchorIds.length>0?Array.from(w.anchorIds):null,Z=w.anchors.length>0?Array.from(w.anchors):null,B=w.interleavedVertedData.slice().buffer,A=w.indicesType===n.Int16?new Uint16Array(w.indices.buffer,w.indices.byteOffset,w.indices.byteLength/2).slice():new Uint32Array(w.indices.buffer,w.indices.byteOffset,w.indices.byteLength/4).slice(),x=w.positions.slice(),R=w.positionIndicesType===n.Int16?new Uint16Array(w.positionIndices.buffer,w.positionIndices.byteOffset,w.positionIndices.byteLength/2).slice():new Uint32Array(w.positionIndices.buffer,w.positionIndices.byteOffset,w.positionIndices.byteLength/4).slice(),k={layout:e.layouts[0],interleavedVertexData:B,indices:A,hasColors:w.hasColors,hasModifications:w.hasModifications,positionData:{data:x,indices:R}};return E&&t.push(E.buffer),M&&t.push(M.buffer),t.push(B),t.push(A.buffer),t.push(x.buffer),t.push(R.buffer),{componentOffsets:M,featureIds:E,anchorIds:P,anchors:Z,transformedGeometry:k,obb:w.obb}}function V(e){return 0===e?m.Unmodified:1===e?m.PotentiallyModified:2===e?m.Culled:m.Unknown}function Y(e){var t=e.context,r=e.buffer,n=S._malloc(r.byteLength),i=r.byteLength/Float64Array.BYTES_PER_ELEMENT,o=new Float64Array(S.HEAPU8.buffer,n,i),u=new Float64Array(r);o.set(u),S.filterOBBs(t,n,i),u.set(o),S._free(n)}function z(e){S&&(S.destroy(e),S=null)}function D(e,t){for(var r=0;r<t.length;++r)e[r]=t[r]}function G(){return S?Promise.resolve():(M||(M=(p||(p=new Promise((function(e){return r.e(7552).then(r.bind(r,57552)).then((function(e){return e.i})).then((function(t){var r=(0,t.default)({locateFile:y,onRuntimeInitialized:function(){return e(r)}});delete r.then}))})).catch((function(e){throw e}))),p).then((function(e){S=e,M=null}))),M)}var J={transform:N,destroy:z}}}]);
//# sourceMappingURL=6761.7e03e038.chunk.js.map