"use strict";(self.webpackChunkreact_arcgis=self.webpackChunkreact_arcgis||[]).push([[1486],{96783:function(n,e,a){a.d(e,{Z:function(){return h}});var r=a(15671),t=a(43144),l=a(60136),i=a(29388),u=a(27366),o=a(43404),s=a(46784),f=a(49861),c=(a(25243),a(63780),a(93169),a(27135)),v=a(69912),d=new o.X({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"}),m=new o.X({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"}),p=function(n){(0,l.Z)(a,n);var e=(0,i.Z)(a);function a(n){var t;return(0,r.Z)(this,a),(t=e.call(this,n)).type="class-breaks-definition",t.breakCount=null,t.classificationField=null,t.classificationMethod=null,t.normalizationField=null,t.normalizationType=null,t}return(0,t.Z)(a,[{key:"standardDeviationInterval",set:function(n){"standard-deviation"===this.classificationMethod&&this._set("standardDeviationInterval",n)}},{key:"definedInterval",set:function(n){"defined-interval"===this.classificationMethod&&this._set("definedInterval",n)}}]),a}(s.wq);(0,u._)([(0,c.J)({classBreaksDef:"class-breaks-definition"})],p.prototype,"type",void 0),(0,u._)([(0,f.Cb)({json:{write:!0}})],p.prototype,"breakCount",void 0),(0,u._)([(0,f.Cb)({json:{write:!0}})],p.prototype,"classificationField",void 0),(0,u._)([(0,f.Cb)({type:String,json:{read:d.read,write:d.write}})],p.prototype,"classificationMethod",void 0),(0,u._)([(0,f.Cb)({json:{write:!0}})],p.prototype,"normalizationField",void 0),(0,u._)([(0,f.Cb)({json:{read:m.read,write:m.write}})],p.prototype,"normalizationType",void 0),(0,u._)([(0,f.Cb)({value:null,json:{write:!0}})],p.prototype,"standardDeviationInterval",null),(0,u._)([(0,f.Cb)({value:null,json:{write:!0}})],p.prototype,"definedInterval",null);var h=p=(0,u._)([(0,v.j)("esri.rest.support.ClassBreaksDefinition")],p)},51905:function(n,e,a){a.d(e,{k:function(){return l}});var r=a(32718).Z.getLogger("esri.rest.support.generateRendererUtils");function t(n,e){return Number(n.toFixed(e))}function l(n){var e=n.normalizationTotal;return{classBreaks:i(n),normalizationTotal:e}}function i(n){var e,a=n.definition,r=a.classificationMethod,l=a.normalizationType,i=a.definedInterval,f=null!==(e=a.breakCount)&&void 0!==e?e:1,c=[],v=n.values;if(0===v.length)return[];v=v.sort((function(n,e){return n-e}));var d=v[0],m=v[v.length-1];if("equal-interval"===r)if(v.length>=f){for(var p=(m-d)/f,h=d,b=1;b<f;b++){var y=t(d+b*p,6);c.push({minValue:h,maxValue:y,label:u(h,y,l)}),h=y}c.push({minValue:h,maxValue:m,label:u(h,m,l)})}else v.forEach((function(n){c.push({minValue:n,maxValue:n,label:u(n,n,l)})}));else if("natural-breaks"===r){for(var V=o(v),g=n.valueFrequency||V.valueFrequency,x=s(V.uniqueValues,g,f),T=d,F=1;F<f;F++)if(V.uniqueValues.length>F){var M=t(V.uniqueValues[x[F]],6);c.push({minValue:T,maxValue:M,label:u(T,M,l)}),T=M}c.push({minValue:T,maxValue:m,label:u(T,m,l)})}else if("quantile"===r)if(v.length>=f&&d!==m){for(var k=d,z=Math.ceil(v.length/f),D=0,I=1;I<f;I++){var C=z+D-1;C>v.length&&(C=v.length-1),C<0&&(C=0),c.push({minValue:k,maxValue:v[C],label:u(k,v[C],l)}),k=v[C],D+=z,z=Math.ceil((v.length-D)/(f-I))}c.push({minValue:k,maxValue:m,label:u(k,m,l)})}else for(var N=-1,S=0;S<v.length;S++){var w=v[S];w!==N&&(N=w,c.push({minValue:N,maxValue:w,label:u(N,w,l)}),N=w)}else if("standard-deviation"===r){var q=function(n){for(var e=0,a=0;a<n.length;a++)e+=n[a];return e/=n.length,e}(v),Z=function(n,e){for(var a=0,r=0;r<n.length;r++){var t=n[r];a+=(t-e)*(t-e)}return a/=n.length,Math.sqrt(a)}(v,q);if(0===Z)c.push({minValue:v[0],maxValue:v[0],label:u(v[0],v[0],l)});else{for(var _=function(n,e,a,r,t){var l=Math.max(r-n,e-r)/t/a;return l=l>=1?1:l>=.5?.5:.25,l}(d,m,f,q,Z)*Z,B=0,E=d,j=f;j>=1;j--){var L=t(q-(j-.5)*_,6);c.push({minValue:E,maxValue:L,label:u(E,L,l)}),E=L,B++}var U=t(q+.5*_,6);c.push({minValue:E,maxValue:U,label:u(E,U,l)}),E=U,B++;for(var G=1;G<=f;G++)U=B===2*f?m:t(q+(G+.5)*_,6),c.push({minValue:E,maxValue:U,label:u(E,U,l)}),E=U,B++}}else if("defined-interval"===r){if(!i)return c;for(var P=v[0],O=v[v.length-1],A=Math.ceil((O-P)/i),Q=P,X=1;X<A;X++){var Y=t(P+X*i,6);c.push({minValue:Q,maxValue:Y,label:u(Q,Y,l)}),Q=Y}c.push({minValue:Q,maxValue:O,label:u(Q,O,l)})}return c}function u(n,e,a){return n===e?a&&"percent-of-total"===a?n+"%":n.toString():a&&"percent-of-total"===a?n+"% - "+e+"%":n+" - "+e}function o(n){for(var e=[],a=[],r=Number.MIN_VALUE,t=1,l=-1,i=0;i<n.length;i++){var u=n[i];u===r?(t++,a[l]=t):null!==u&&(e.push(u),r=u,t=1,a.push(t),l++)}return{uniqueValues:e,valueFrequency:a}}function s(n,e,a){var r=n.length,t=[];a>r&&(a=r);for(var l=0;l<a;l++)t.push(Math.round(l*r/a-1));t.push(r-1);var i=f(t,n,e,a);return function(n,e,a,r,t,l){for(var i=0,u=0,o=0,s=0,f=!0,v=0;v<2&&f;v++){0===v&&(f=!1);for(var d=0;d<l-1;d++)for(;a[d+1]+1!==a[d+2];){a[d+1]=a[d+1]+1;var m=c(d,a,r,t);o=m.sbMean,i=m.sbSdcm;var p=c(d+1,a,r,t);if(s=p.sbMean,!(i+(u=p.sbSdcm)<e[d]+e[d+1])){a[d+1]=a[d+1]-1;break}e[d]=i,e[d+1]=u,n[d]=o,n[d+1]=s,f=!0}for(var h=l-1;h>0;h--)for(;a[h]!==a[h-1]+1;){a[h]=a[h]-1;var b=c(h-1,a,r,t);o=b.sbMean,i=b.sbSdcm;var y=c(h,a,r,t);if(s=y.sbMean,!(i+(u=y.sbSdcm)<e[h-1]+e[h])){a[h]=a[h]+1;break}e[h-1]=i,e[h]=u,n[h-1]=o,n[h]=s,f=!0}}return f}(i.mean,i.sdcm,t,n,e,a)&&(i=f(t,n,e,a)),t}function f(n,e,a,r){for(var t=[],l=[],i=[],u=0,o=[],s=[],f=0;f<r;f++){var v=c(f,n,e,a);o.push(v.sbMean),s.push(v.sbSdcm),u+=s[f]}for(var d,m=u,p=!0;p||u<m;){p=!1,t=[];for(var h=0;h<r;h++)t.push(n[h]);for(var b=0;b<r;b++)for(var y=n[b]+1;y<=n[b+1];y++)if(d=e[y],b>0&&y!==n[b+1]&&Math.abs(d-o[b])>Math.abs(d-o[b-1]))n[b]=y;else if(b<r-1&&n[b]!==y-1&&Math.abs(d-o[b])>Math.abs(d-o[b+1])){n[b+1]=y-1;break}m=u,u=0,l=[],i=[];for(var V=0;V<r;V++){l.push(o[V]),i.push(s[V]);var g=c(V,n,e,a);o[V]=g.sbMean,s[V]=g.sbSdcm,u+=s[V]}}if(u>m){for(var x=0;x<r;x++)n[x]=t[x],o[x]=l[x],s[x]=i[x];u=m}return{mean:o,sdcm:s}}function c(n,e,a,t){for(var l=0,i=0,u=e[n]+1;u<=e[n+1];u++){var o=t[u];l+=a[u]*o,i+=o}i<=0&&r.warn("Exception in Natural Breaks calculation");for(var s=l/i,f=0,c=e[n]+1;c<=e[n+1];c++)f+=t[c]*Math.pow(a[c]-s,2);return{sbMean:s,sbSdcm:f}}},71486:function(n,e,a){a.d(e,{DL:function(){return S},F_:function(){return M},G2:function(){return C},H0:function(){return b},Lq:function(){return g},Qm:function(){return D},S5:function(){return h},XL:function(){return V},eT:function(){return k},fk:function(){return I},i5:function(){return y},oF:function(){return w},wk:function(){return p}});var r=a(37762),t=a(93433),l=a(96783),i=a(51905),u="<Null>",o="equal-interval",s=1,f=5,c=10,v=/\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*/gi,d=new Set(["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]),m=["min","max","avg","stddev","count","sum","variance","nullcount","median"];function p(n){return null==n||"string"==typeof n&&!n?u:n}function h(n){var e=null!=n.normalizationField||null!=n.normalizationType,a=null!=n.minValue||null!=n.maxValue,r=!!n.sqlExpression&&n.supportsSQLExpression;return!e&&!a&&!r}function b(n){var e=n.returnDistinct?(0,t.Z)(new Set(n.values)):n.values,a=e.filter((function(n){return null!=n})).sort(),r=a.length,l={count:r,min:a[0],max:a[r-1]};return n.supportsNullCount&&(l.nullcount=e.length-r),n.percentileParams&&(l.median=V(e,n.percentileParams)),l}function y(n){var e,a=n.values,t=n.useSampleStdDev,l=n.supportsNullCount,i=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,o=null,s=null,f=null,c=null,v=0,d=null==n.minValue?-1/0:n.minValue,m=null==n.maxValue?1/0:n.maxValue,p=(0,r.Z)(a);try{for(p.s();!(e=p.n()).done;){var h=e.value;Number.isFinite(h)?h>=d&&h<=m&&(o=null===o?h:o+h,i=Math.min(i,h),u=Math.max(u,h),v++):"string"==typeof h&&v++}}catch(F){p.e(F)}finally{p.f()}if(v&&null!=o){s=o/v;var b,y=0,g=(0,r.Z)(a);try{for(g.s();!(b=g.n()).done;){var x=b.value;Number.isFinite(x)&&x>=d&&x<=m&&(y+=Math.pow(x-s,2))}}catch(F){g.e(F)}finally{g.f()}c=t?v>1?y/(v-1):0:v>0?y/v:0,f=Math.sqrt(c)}else i=null,u=null;var T={avg:s,count:v,max:u,min:i,stddev:f,sum:o,variance:c};return l&&(T.nullcount=a.length-v),n.percentileParams&&(T.median=V(a,n.percentileParams)),T}function V(n,e){var a=e.fieldType,r=e.value,l=e.orderBy,i=e.isDiscrete,u=g(a,"desc"===l);if(0===(n=(0,t.Z)(n).filter((function(n){return null!=n})).sort((function(n,e){return u(n,e)}))).length)return null;if(r<=0)return n[0];if(r>=1)return n[n.length-1];var o=(n.length-1)*r,s=Math.floor(o),f=s+1,c=o%1,v=n[s],d=n[f];return f>=n.length||i||"string"==typeof v||"string"==typeof d?v:v*(1-c)+d*c}function g(n,e){var a=e?1:-1,r=function(n){return n?function(n,e){var a=x(n,e,!0);return null!=a?a:e-n}:function(n,e){var a=x(n,e,!1);return null!=a?a:n-e}}(e),l=T(e);if(!n||!["esriFieldTypeDate","esriFieldTypeString","esriFieldTypeGUID","esriFieldTypeGlobalID"].concat((0,t.Z)(d)).includes(n))return function(n,e){return"number"==typeof n&&"number"==typeof e?r(n,e):"string"==typeof n&&"string"==typeof e?l(n,e):a};if("esriFieldTypeDate"===n)return function(n,e){var t=new Date(n).getTime(),l=new Date(e).getTime();return isNaN(t)||isNaN(l)?a:r(t,l)};if(d.has(n))return function(n,e){return r(n,e)};if("esriFieldTypeString"===n)return function(n,e){return l(n,e)};if("esriFieldTypeGUID"===n||"esriFieldTypeGlobalID"===n){var i=T(e);return function(n,e){return i(F(n),F(e))}}return e?function(n,e){return 1}:function(n,e){return-1}}function x(n,e,a){if(a){if(null==n)return null==e?0:1;if(null==e)return-1}else{if(null==n)return null==e?0:-1;if(null==e)return 1}return null}function T(n){return n?function(n,e){var a=x(n,e,!0);return null!=a?a:(n=n.toUpperCase())>(e=e.toUpperCase())?-1:n<e?1:0}:function(n,e){var a=x(n,e,!1);return null!=a?a:(n=n.toUpperCase())<(e=e.toUpperCase())?-1:n>e?1:0}}function F(n){return n.substr(24,12)+n.substr(19,4)+n.substr(16,2)+n.substr(14,2)+n.substr(11,2)+n.substr(9,2)+n.substr(6,2)+n.substr(4,2)+n.substr(2,2)+n.substr(0,2)}function M(n,e){var a;for(a in n)m.includes(a)&&(Number.isFinite(n[a])||(n[a]=null));return e?(["avg","stddev","variance"].forEach((function(e){var a;null!=n[e]&&(n[e]=Math.ceil(null!==(a=n[e])&&void 0!==a?a:0))})),n):n}function k(n){var e,a={},t=(0,r.Z)(n);try{for(t.s();!(e=t.n()).done;){var l=e.value;(null==l||"string"==typeof l&&""===l.trim())&&(l=null),null==a[l]?a[l]={count:1,data:l}:a[l].count++}}catch(i){t.e(i)}finally{t.f()}return{count:a}}function z(n){return"coded-value"!==(null===n||void 0===n?void 0:n.type)?[]:n.codedValues.map((function(n){return n.code}))}function D(n,e,a,t){var l=n.count,i=[];if(a&&e){var u,o=[],s=z(e[0]),f=(0,r.Z)(s);try{for(f.s();!(u=f.n()).done;){var c=u.value;if(e[1]){var v,d=z(e[1]),m=(0,r.Z)(d);try{for(m.s();!(v=m.n()).done;){var h=v.value;if(e[2]){var b,y=z(e[2]),V=(0,r.Z)(y);try{for(V.s();!(b=V.n()).done;){var g=b.value;o.push("".concat(p(c)).concat(t).concat(p(h)).concat(t).concat(p(g)))}}catch(D){V.e(D)}finally{V.f()}}else o.push("".concat(p(c)).concat(t).concat(p(h)))}}catch(D){m.e(D)}finally{m.f()}}else o.push(c)}}catch(D){f.e(D)}finally{f.f()}for(var x=0,T=o;x<T.length;x++){var F=T[x];l.hasOwnProperty(F)||(l[F]={data:F,count:0})}}for(var M in l){var k=l[M];i.push({value:k.data,count:k.count,label:k.label})}return{uniqueValueInfos:i}}function I(n,e,a,r){var t=null;switch(e){case"log":0!==n&&(t=Math.log(n)*Math.LOG10E);break;case"percent-of-total":Number.isFinite(r)&&0!==r&&(t=n/r*100);break;case"field":Number.isFinite(a)&&0!==a&&(t=n/a);break;case"natural-log":n>0&&(t=Math.log(n));break;case"square-root":n>0&&(t=Math.pow(n,.5))}return t}function C(n,e){var a=N({field:e.field,normalizationType:e.normalizationType,normalizationField:e.normalizationField,classificationMethod:e.classificationMethod,standardDeviationInterval:e.standardDeviationInterval,breakCount:e.numClasses||f});return n=function(n,e,a){var r=null!==e&&void 0!==e?e:-1/0,t=null!==a&&void 0!==a?a:1/0;return n.filter((function(n){return Number.isFinite(n)&&n>=r&&n<=t}))}(n,e.minValue,e.maxValue),(0,i.k)({definition:a,values:n,normalizationTotal:e.normalizationTotal})}function N(n){var e=n.breakCount,a=n.field,r=n.normalizationField,t=n.normalizationType,i=n.classificationMethod||o,u="standard-deviation"===i?n.standardDeviationInterval||s:void 0;return new l.Z({breakCount:e,classificationField:a,classificationMethod:i,normalizationField:"field"===t?r:void 0,normalizationType:t,standardDeviationInterval:u})}function S(n,e){var a,r,t=n.classBreaks,l=t.length,i=null===(a=t[0])||void 0===a?void 0:a.minValue,u=null===(r=t[l-1])||void 0===r?void 0:r.maxValue,o="standard-deviation"===e,s=v;return t=t.map((function(n){var e=n.label,a={minValue:n.minValue,maxValue:n.maxValue,label:e};if(o&&e){var r,t=e.match(s),l=null!==(r=null===t||void 0===t?void 0:t.map((function(n){return+n.trim()})))&&void 0!==r?r:[];2===l.length?(a.minStdDev=l[0],a.maxStdDev=l[1],l[0]<0&&l[1]>0&&(a.hasAvg=!0)):1===l.length&&(e.includes("<")?(a.minStdDev=null,a.maxStdDev=l[0]):e.includes(">")&&(a.minStdDev=l[0],a.maxStdDev=null))}return a})),{minValue:i,maxValue:u,classBreakInfos:t,normalizationTotal:n.normalizationTotal}}function w(n,e){var a,t,l=q(n,e);if(null==l.min&&null==l.max)return{bins:[],minValue:l.min,maxValue:l.max,normalizationTotal:e.normalizationTotal};var i,u=l.intervals,o=null!==(a=l.min)&&void 0!==a?a:0,s=null!==(t=l.max)&&void 0!==t?t:0,f=u.map((function(n,e){return{minValue:u[e][0],maxValue:u[e][1],count:0}})),c=(0,r.Z)(n);try{for(c.s();!(i=c.n()).done;){var v=i.value;if(null!=v&&v>=o&&v<=s){var d=Z(u,v);d>-1&&f[d].count++}}}catch(m){c.e(m)}finally{c.f()}return{bins:f,minValue:o,maxValue:s,normalizationTotal:e.normalizationTotal}}function q(n,e){var a=e.field,r=e.classificationMethod,t=e.standardDeviationInterval,l=e.normalizationType,i=e.normalizationField,u=e.normalizationTotal,o=e.minValue,s=e.maxValue,f=e.numBins||c,v=null,d=null,m=null;if(r&&"equal-interval"!==r||l){var p=C(n,{field:a,normalizationType:l,normalizationField:i,normalizationTotal:u,classificationMethod:r,standardDeviationInterval:t,minValue:o,maxValue:s,numClasses:f}).classBreaks;v=p[0].minValue,d=p[p.length-1].maxValue,m=p.map((function(n){return[n.minValue,n.maxValue]}))}else{var b,V;if(null!=o&&null!=s)v=o,d=s;else{var g,x,T=y({values:n,minValue:o,maxValue:s,useSampleStdDev:!l,supportsNullCount:h({normalizationType:l,normalizationField:i,minValue:o,maxValue:s})});v=null!==(g=T.min)&&void 0!==g?g:null,d=null!==(x=T.max)&&void 0!==x?x:null}m=function(n,e,a){for(var r,t=(e-n)/a,l=[],i=n,u=1;u<=a;u++)r=i+t,r=Number(r.toFixed(16)),l.push([i,u===a?e:r]),i=r;return l}(null!==(b=v)&&void 0!==b?b:0,null!==(V=d)&&void 0!==V?V:0,f)}return{min:v,max:d,intervals:m}}function Z(n,e){for(var a=-1,r=n.length-1;r>=0;r--)if(e>=n[r][0]){a=r;break}return a}}}]);
//# sourceMappingURL=1486.3fd63334.chunk.js.map