"use strict";(self.webpackChunkreact_arcgis=self.webpackChunkreact_arcgis||[]).push([[4386],{11873:function(e,t,n){function r(){return[1,0,0,0,1,0,0,0,1]}function i(e,t,n,r,i,a,o,u,c){return[e,t,n,r,i,a,o,u,c]}function a(e,t){return new Float64Array(e,t,9)}n.d(t,{a:function(){return a},c:function(){return r},f:function(){return i}});Object.freeze(Object.defineProperty({__proto__:null,clone:function(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},create:r,createView:a,fromValues:i},Symbol.toStringTag,{value:"Module"}))},81949:function(e,t,n){function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function a(e,t){return new Float64Array(e,t,16)}n.d(t,{I:function(){return o},a:function(){return a},b:function(){return i},c:function(){return r}});var o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:i,create:r,createView:a,fromValues:function(e,t,n,r,i,a,o,u,c,l,f,h,s,d,v,m){return[e,t,n,r,i,a,o,u,c,l,f,h,s,d,v,m]}},Symbol.toStringTag,{value:"Module"}))},98131:function(e,t,n){function r(){return[0,0,0,1]}function i(e){return[e[0],e[1],e[2],e[3]]}function a(e,t){return new Float64Array(e,t,4)}n.d(t,{I:function(){return o},a:function(){return r},b:function(){return i},c:function(){return a}});var o=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:i,create:r,createView:a,fromValues:function(e,t,n,r){return[e,t,n,r]}},Symbol.toStringTag,{value:"Module"}))},32035:function(e,t,n){n.d(t,{a:function(){return u},b:function(){return o},c:function(){return i},d:function(){return f},e:function(){return c},n:function(){return h},s:function(){return l},t:function(){return a}});var r=n(77873);function i(e,t,n){a(e.typedBuffer,t.typedBuffer,n,e.typedBufferStride,t.typedBufferStride)}function a(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i;if(e.length/i!==Math.ceil(t.length/a))return r.c.error("source and destination buffers need to have the same number of elements"),e;for(var o=e.length/i,u=n[0],c=n[1],l=n[2],f=n[4],h=n[5],s=n[6],d=n[8],v=n[9],m=n[10],p=n[12],_=n[13],y=n[14],g=0,x=0,B=0;B<o;B++){var M=t[g],w=t[g+1],Z=t[g+2];e[x]=u*M+f*w+d*Z+p,e[x+1]=c*M+h*w+v*Z+_,e[x+2]=l*M+s*w+m*Z+y,g+=a,x+=i}return e}function o(e,t,n){u(e.typedBuffer,t.typedBuffer,n,e.typedBufferStride,t.typedBufferStride)}function u(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i;if(e.length/i===Math.ceil(t.length/a))for(var o=e.length/i,u=n[0],c=n[1],l=n[2],f=n[3],h=n[4],s=n[5],d=n[6],v=n[7],m=n[8],p=0,_=0,y=0;y<o;y++){var g=t[p],x=t[p+1],B=t[p+2];e[_]=u*g+f*x+d*B,e[_+1]=c*g+h*x+v*B,e[_+2]=l*g+s*x+m*B,p+=a,_+=i}else r.c.error("source and destination buffers need to have the same number of elements")}function c(e,t,n){l(e.typedBuffer,t,n,e.typedBufferStride)}function l(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,i=Math.min(e.length/r,t.count),a=t.typedBuffer,o=t.typedBufferStride,u=0,c=0,l=0;l<i;l++)e[c]=n*a[u],e[c+1]=n*a[u+1],e[c+2]=n*a[u+2],u+=o,c+=r}function f(e,t){h(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function h(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,i=Math.min(e.length/n,t.length/r),a=0,o=0,u=0;u<i;u++){var c=t[a],l=t[a+1],f=t[a+2],h=c*c+l*l+f*f;if(h>0){var s=1/Math.sqrt(h);e[o]=s*c,e[o+1]=s*l,e[o+2]=s*f}a+=r,o+=n}}Object.freeze(Object.defineProperty({__proto__:null,normalize:h,normalizeView:f,scale:l,scaleView:c,shiftRight:function(e,t,n){for(var r=Math.min(e.count,t.count),i=e.typedBuffer,a=e.typedBufferStride,o=t.typedBuffer,u=t.typedBufferStride,c=0,l=0,f=0;f<r;f++)i[l]=o[c]>>n,i[l+1]=o[c+1]>>n,i[l+2]=o[c+2]>>n,c+=u,l+=a},transformMat3:u,transformMat3View:o,transformMat4:a,transformMat4View:i},Symbol.toStringTag,{value:"Module"}))},13491:function(e,t,n){n.d(t,{Q:function(){return s}});var r=n(60136),i=n(29388),a=n(37762),o=n(15671),u=n(43144),c=n(63780),l=n(92026),f=n(27546),h=n(36231),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,n=arguments.length>1?arguments[1]:void 0;(0,o.Z)(this,e),this._compareMinX=p,this._compareMinY=_,this._toBBox=function(e){return e},this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&("function"==typeof n?this._toBBox=n:this._initFormat(n)),this.clear()}return(0,u.Z)(e,[{key:"destroy",value:function(){this.clear(),b.prune(),Y.prune(),k.prune(),X.prune()}},{key:"all",value:function(e){this._all(this._data,e)}},{key:"search",value:function(e,t){var n=this._data,r=this._toBBox;if(w(e,n))for(b.clear();n;){for(var i=0,a=n.children.length;i<a;i++){var o=n.children[i],u=n.leaf?r(o):o;w(e,u)&&(n.leaf?t(o):M(e,u)?this._all(o,t):b.push(o))}n=b.pop()}}},{key:"collides",value:function(e){var t=this._data,n=this._toBBox;if(!w(e,t))return!1;for(b.clear();t;){for(var r=0,i=t.children.length;r<i;r++){var a=t.children[r],o=t.leaf?n(a):a;if(w(e,o)){if(t.leaf||M(e,o))return!0;b.push(a)}}t=b.pop()}return!1}},{key:"load",value:function(e){if(!e.length)return this;if(e.length<this._minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var r=this._build(e.slice(0,e.length),0,e.length-1,0);if(this._data.children.length)if(this._data.height===r.height)this._splitRoot(this._data,r);else{if(this._data.height<r.height){var i=this._data;this._data=r,r=i}this._insert(r,this._data.height-r.height-1,!0)}else this._data=r;return this}},{key:"insert",value:function(e){return e&&this._insert(e,this._data.height-1),this}},{key:"clear",value:function(){return this._data=new A([]),this}},{key:"remove",value:function(e){if(!e)return this;var t,n=this._data,r=null,i=0,a=!1,o=this._toBBox(e);for(k.clear(),X.clear();n||k.length>0;){var u;if(n||(n=(0,l.j0)(k.pop()),r=k.data[k.length-1],i=null!==(u=X.pop())&&void 0!==u?u:0,a=!0),n.leaf&&-1!==(t=(0,c.cq)(n.children,e,n.children.length,n.indexHint)))return n.children.splice(t,1),k.push(n),this._condense(k),this;a||n.leaf||!M(n,o)?r?(i++,n=r.children[i],a=!1):n=null:(k.push(n),X.push(i),i=0,r=n,n=n.children[0])}return this}},{key:"toJSON",value:function(){return this._data}},{key:"fromJSON",value:function(e){return this._data=e,this}},{key:"_all",value:function(e,t){var n=e;for(Y.clear();n;){var r;if(!0===n.leaf){var i,o=(0,a.Z)(n.children);try{for(o.s();!(i=o.n()).done;){t(i.value)}}catch(u){o.e(u)}finally{o.f()}}else Y.pushArray(n.children);n=null!==(r=Y.pop())&&void 0!==r?r:null}}},{key:"_build",value:function(e,t,n,r){var i=n-t+1,a=this._maxEntries;if(i<=a){var o=new A(e.slice(t,n+1));return d(o,this._toBBox),o}r||(r=Math.ceil(Math.log(i)/Math.log(a)),a=Math.ceil(i/Math.pow(a,r-1)));var u=new O([]);u.height=r;var c=Math.ceil(i/a),l=c*Math.ceil(Math.sqrt(a));Z(e,t,n,l,this._compareMinX);for(var f=t;f<=n;f+=l){var h=Math.min(f+l-1,n);Z(e,f,h,c,this._compareMinY);for(var s=f;s<=h;s+=c){var v=Math.min(s+c-1,h);u.children.push(this._build(e,s,v,r-1))}}return d(u,this._toBBox),u}},{key:"_chooseSubtree",value:function(e,t,n,r){for(;r.push(t),!0!==t.leaf&&r.length-1!==n;){for(var i=void 0,a=1/0,o=1/0,u=0,c=t.children.length;u<c;u++){var l=t.children[u],f=y(l),h=x(e,l)-f;h<o?(o=h,a=f<a?f:a,i=l):h===o&&f<a&&(a=f,i=l)}t=i||t.children[0]}return t}},{key:"_insert",value:function(e,t,n){var r=this._toBBox,i=n?e:r(e);k.clear();var a=this._chooseSubtree(i,this._data,t,k);for(a.children.push(e),m(a,i);t>=0&&k.data[t].children.length>this._maxEntries;)this._split(k,t),t--;this._adjustParentBBoxes(i,k,t)}},{key:"_split",value:function(e,t){var n=e.data[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var a=this._chooseSplitIndex(n,i,r);if(a){var o=n.children.splice(a,n.children.length-a),u=n.leaf?new A(o):new O(o);u.height=n.height,d(n,this._toBBox),d(u,this._toBBox),t?e.data[t-1].children.push(u):this._splitRoot(n,u)}else console.log("  Error: assertion failed at PooledRBush._split: no valid split index")}},{key:"_splitRoot",value:function(e,t){this._data=new O([e,t]),this._data.height=e.height+1,d(this._data,this._toBBox)}},{key:"_chooseSplitIndex",value:function(e,t,n){var r,i,a;r=i=1/0;for(var o=t;o<=n-t;o++){var u=v(e,0,o,this._toBBox),c=v(e,o,n,this._toBBox),l=B(u,c),f=y(u)+y(c);l<r?(r=l,a=o,i=f<i?f:i):l===r&&f<i&&(i=f,a=o)}return a}},{key:"_chooseSplitAxis",value:function(e,t,n){var r=e.leaf?this._compareMinX:p,i=e.leaf?this._compareMinY:_;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)}},{key:"_allDistMargin",value:function(e,t,n,r){e.children.sort(r);for(var i=this._toBBox,a=v(e,0,t,i),o=v(e,n-t,n,i),u=g(a)+g(o),c=t;c<n-t;c++){var l=e.children[c];m(a,e.leaf?i(l):l),u+=g(a)}for(var f=n-t-1;f>=t;f--){var h=e.children[f];m(o,e.leaf?i(h):h),u+=g(o)}return u}},{key:"_adjustParentBBoxes",value:function(e,t,n){for(var r=n;r>=0;r--)m(t.data[r],e)}},{key:"_condense",value:function(e){for(var t=e.length-1;t>=0;t--){var n=e.data[t];if(0===n.children.length)if(t>0){var r=e.data[t-1],i=r.children;i.splice((0,c.cq)(i,n,i.length,r.indexHint),1)}else this.clear();else d(n,this._toBBox)}}},{key:"_initFormat",value:function(e){var t=["return a"," - b",";"];this._compareMinX=new Function("a","b",t.join(e[0])),this._compareMinY=new Function("a","b",t.join(e[1])),this._toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}]),e}();function d(e,t){v(e,0,e.children.length,t,e)}function v(e,t,n,r,i){i||(i=new A([])),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var a,o=t;o<n;o++)a=e.children[o],m(i,e.leaf?r(a):a);return i}function m(e,t){e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY)}function p(e,t){return e.minX-t.minX}function _(e,t){return e.minY-t.minY}function y(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function g(e){return e.maxX-e.minX+(e.maxY-e.minY)}function x(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function B(e,t){var n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),a=Math.min(e.maxY,t.maxY);return Math.max(0,i-n)*Math.max(0,a-r)}function M(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function w(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function Z(e,t,n,r,i){for(var a=[t,n];a.length;){var o=(0,l.j0)(a.pop()),u=(0,l.j0)(a.pop());if(!(o-u<=r)){var c=u+Math.ceil((o-u)/r/2)*r;(0,h.q)(e,c,u,o,i),a.push(u,c,c,o)}}}var b=new f.Z,Y=new f.Z,k=new f.Z,X=new f.Z({deallocator:void 0}),S=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=t.apply(this,arguments)).height=1,e.indexHint=new c.SO,e}return(0,u.Z)(n)}((0,u.Z)((function e(){(0,o.Z)(this,e),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}))),A=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this)).children=e,r.leaf=!0,r}return(0,u.Z)(n)}(S),O=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this)).children=e,r.leaf=!1,r}return(0,u.Z)(n)}(S)},86372:function(e,t,n){n.d(t,{JK:function(){return u},QZ:function(){return a},Rq:function(){return o},bg:function(){return i},mB:function(){return c}});var r=n(18722);function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e<=r.DB?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function a(e){return((0,r.kJ)(e)?e.length:e.byteLength/8)<=r.DB?Array.from(e):new Float64Array(e)}function o(e,t,n){return Array.isArray(e)?e.slice(t,t+n):e.subarray(t,t+n)}function u(e,t){for(var n=0;n<t.length;++n)e[n]=t[n];return e}function c(e){return Array.isArray(e)?new Float64Array(e):e}},80880:function(e,t,n){n.d(t,{Z:function(){return _}});var r=n(29439),i=n(15671),a=n(43144),o=n(60136),u=n(29388),c=n(27366),l=n(11582),f=n(46784),h=n(49861),s=(n(25243),n(63780),n(93169),n(27135)),d=n(69912),v=n(71353),m=n(585),p=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).type="georeferenced-relative",r.isRelative=!0,r.isGeoreferenced=!0,r.origin=(0,v.c)(),r}return(0,a.Z)(n,[{key:"getOriginPoint",value:function(e){var t=(0,r.Z)(this.origin,3),n=t[0],i=t[1],a=t[2];return new m.Z({x:n,y:i,z:a,spatialReference:e})}},{key:"setOriginFormPoint",value:function(e){var t=e.x,n=e.y,r=e.z;this.origin=(0,v.f)(t,n,null!==r&&void 0!==r?r:0)}}]),n}((0,l.J)(f.wq));(0,c._)([(0,s.J)({georeferencedRelative:"georeferenced-relative"},{readOnly:!0})],p.prototype,"type",void 0),(0,c._)([(0,h.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],p.prototype,"origin",void 0);var _=p=(0,c._)([(0,d.j)("esri.geometry.support.MeshGeoreferencedRelativeVertexSpace")],p)},8623:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(43144),i=n(15671),a=n(60136),o=n(29388),u=n(27366),c=n(11582),l=n(46784),f=(n(32718),n(25243),n(63780),n(93169),n(10064),n(27135)),h=n(69912),s=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.call(this,{})).type="georeferenced",e.isRelative=!1,e.isGeoreferenced=!0,e}return(0,r.Z)(n)}((0,c.J)(l.wq));(0,u._)([(0,f.J)({georeferenced:"georeferenced"},{readOnly:!0})],s.prototype,"type",void 0);var d=s=(0,u._)([(0,h.j)("esri.geometry.support.MeshGeoreferencedVertexSpace")],s)},50250:function(e,t,n){n.d(t,{Z:function(){return _}});var r=n(29439),i=n(15671),a=n(43144),o=n(60136),u=n(29388),c=n(27366),l=n(11582),f=n(46784),h=n(49861),s=(n(25243),n(63780),n(93169),n(27135)),d=n(69912),v=n(71353),m=n(585),p=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).type="local",r.isRelative=!0,r.isGeoreferenced=!1,r.origin=(0,v.c)(),r}return(0,a.Z)(n,[{key:"getOriginPoint",value:function(e){var t=(0,r.Z)(this.origin,3),n=t[0],i=t[1],a=t[2];return new m.Z({x:n,y:i,z:a,spatialReference:e})}},{key:"setOriginFormPoint",value:function(e){var t=e.x,n=e.y,r=e.z;this.origin=(0,v.f)(t,n,null!==r&&void 0!==r?r:0)}}]),n}((0,l.J)(f.wq));(0,c._)([(0,s.J)({local:"local"},{readOnly:!0})],p.prototype,"type",void 0),(0,c._)([(0,h.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],p.prototype,"origin",void 0);var _=p=(0,c._)([(0,d.j)("esri.geometry.support.MeshLocalVertexSpace")],p)},77873:function(e,t,n){n.d(t,{c:function(){return r}});var r=n(32718).Z.getLogger("esri.views.3d.support.buffer.math")},30767:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var r=n(37762),i=n(74165),a=n(15861),o=n(15671),u=n(43144),c=n(93169),l=n(13491),f=n(57898),h=function(){function e(){(0,o.Z)(this,e)}return(0,u.Z)(e,[{key:"createIndex",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,n){var r,a,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new Array,t.vertexAttributes&&t.vertexAttributes.position){e.next=3;break}return e.abrupt("return",new l.Q);case 3:if(a=this._createMeshData(t),null==n){e.next=10;break}return e.next=7,n.invoke("createIndexThread",a,{transferList:r});case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=this.createIndexThread(a).result;case 11:return o=e.t0,e.abrupt("return",this._createPooledRBush().fromJSON(o));case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createIndexThread",value:function(e){var t=new Float64Array(e.position),n=this._createPooledRBush();return e.components?this._createIndexComponentsThread(n,t,e.components.map((function(e){return new Uint32Array(e)}))):this._createIndexAllThread(n,t)}},{key:"_createIndexAllThread",value:function(e,t){for(var n=new Array(t.length/9),r=0,i=0;i<t.length;i+=9)n[r++]=s(t,i,i+3,i+6);return e.load(n),{result:e.toJSON()}}},{key:"_createIndexComponentsThread",value:function(e,t,n){var i,a=0,o=(0,r.Z)(n);try{for(o.s();!(i=o.n()).done;){a+=i.value.length/3}}catch(v){o.e(v)}finally{o.f()}var u,c=new Array(a),l=0,f=(0,r.Z)(n);try{for(f.s();!(u=f.n()).done;)for(var h=u.value,d=0;d<h.length;d+=3)c[l++]=s(t,3*h[d],3*h[d+1],3*h[d+2])}catch(v){f.e(v)}finally{f.f()}return e.load(c),{result:e.toJSON()}}},{key:"_createMeshData",value:function(e){var t=(e.vertexSpace.isRelative?(0,f.georeferenceApplyTransform)({position:e.vertexAttributes.position,normal:null,tangent:null},e.vertexSpace,e.transform,e.spatialReference).position:e.vertexAttributes.position).buffer;return!e.components||e.components.some((function(e){return!e.faces}))?{position:t}:{position:t,components:e.components.map((function(e){return e.faces}))}}},{key:"_createPooledRBush",value:function(){return new l.Q(9,(0,c.Z)("esri-csp-restrictions")?function(e){return e}:[".minX",".minY",".maxX",".maxY"])}}]),e}();function s(e,t,n,r){return{minX:Math.min(e[t],e[n],e[r]),maxX:Math.max(e[t],e[n],e[r]),minY:Math.min(e[t+1],e[n+1],e[r+1]),maxY:Math.max(e[t+1],e[n+1],e[r+1]),p0:[e[t],e[t+1],e[t+2]],p1:[e[n],e[n+1],e[n+2]],p2:[e[r],e[r+1],e[r+2]]}}}}]);
//# sourceMappingURL=4386.da50f050.chunk.js.map