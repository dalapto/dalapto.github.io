{"version":3,"file":"static/js/7775.01674c9c.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/ByteSizeUnit.js","../node_modules/@arcgis/core/layers/mixins/ArcGISCachedService.js","../node_modules/@arcgis/core/layers/support/TileInfoTilemapCache.js","../node_modules/@arcgis/core/layers/support/Tilemap.js","../node_modules/@arcgis/core/layers/support/TilemapCache.js","../node_modules/@arcgis/core/geometry/support/UintArray.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nvar E;!function(E){E[E.KILOBYTES=1024]=\"KILOBYTES\",E[E.MEGABYTES=1048576]=\"MEGABYTES\",E[E.GIGABYTES=1073741824]=\"GIGABYTES\"}(E||(E={}));export{E as ByteSizeUnit};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{reader as r}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import l from\"../support/TileInfo.js\";import i from\"../support/TileInfoTilemapCache.js\";import{TilemapCache as s}from\"../support/TilemapCache.js\";import a from\"../../geometry/SpatialReference.js\";const p=p=>{let n=class extends p{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}destroy(){this.tilemapCache?.destroy?.()}readMinScale(e,o){return null!=o.minLOD&&null!=o.maxLOD?e:0}readMaxScale(e,o){return null!=o.minLOD&&null!=o.maxLOD?e:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(e,o,r){const t=o.capabilities?.includes(\"Tilemap\");let{minLOD:a,maxLOD:p,minScale:n,maxScale:c}=o;if(null==a&&null==p&&0!==n&&0!==c){const e=e=>Math.round(1e4*e)/1e4;n=e(n||o.tileInfo.lods[0].scale),c=e(c||o.tileInfo.lods[o.tileInfo.lods.length-1].scale);for(const r of o.tileInfo.lods){const o=e(r.scale);a=o>=n?r.level:a,p=o>=c?r.level:p}}if(t)return new s({layer:this,minLOD:a,maxLOD:p});if(o.tileInfo){const e=new l;return e.read(o.tileInfo,r),new i(e,a,p)}return null}};return e([o({json:{read:{source:\"copyrightText\"}}})],n.prototype,\"copyright\",void 0),e([o()],n.prototype,\"minScale\",void 0),e([r(\"service\",\"minScale\")],n.prototype,\"readMinScale\",null),e([o()],n.prototype,\"maxScale\",void 0),e([r(\"service\",\"maxScale\")],n.prototype,\"readMaxScale\",null),e([o({type:a})],n.prototype,\"spatialReference\",void 0),e([o({readOnly:!0})],n.prototype,\"supportsBlankTile\",null),e([o({type:l})],n.prototype,\"tileInfo\",void 0),e([o()],n.prototype,\"tilemapCache\",void 0),e([r(\"service\",\"tilemapCache\",[\"capabilities\",\"tileInfo\"])],n.prototype,\"readTilemapCache\",null),e([o()],n.prototype,\"version\",void 0),n=e([t(\"esri.layers.mixins.ArcGISCachedService\")],n),n};export{p as ArcGISCachedService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport l from\"../../core/Error.js\";import{waitTick as t,isAbortError as i}from\"../../core/promiseUtils.js\";class e{constructor(l,t=0,i=l.lods[l.lods.length-1].level){this.tileInfo=l,this.minLOD=t,this.maxLOD=i,l.lodAt(t)||(this.minLOD=l.lods[0].level),l.lodAt(i)||(this.maxLOD=l.lods[l.lods.length-1].level)}get effectiveMinLOD(){return this.minLOD??this.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.tileInfo.lods[this.tileInfo.lods.length-1].level}getAvailability(l,t,i){const e=this.tileInfo?.lodAt(l);return!e||l<this.minLOD||l>this.maxLOD?\"unavailable\":e.cols&&e.rows?i>=e.cols[0]&&i<=e.cols[1]&&t>=e.rows[0]&&t<=e.rows[1]?\"unknown\":\"unavailable\":\"unknown\"}async fetchAvailability(i,e,o,s){await t(s);const a=this.getAvailability(i,e,o);if(\"unavailable\"===a)throw new l(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:i,row:e,col:o});return a}async fetchAvailabilityUpsample(l,e,o,s,a){await t(a),s.level=l,s.row=e,s.col=o;const n=this.tileInfo;return n.updateTileInfo(s),this.fetchAvailability(l,e,o,a).catch((l=>{if(i(l))throw l;if(n.upsampleTile(s))return this.fetchAvailabilityUpsample(s.level,s.row,s.col,s,a);throw l}))}}export{e as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport t from\"../../request.js\";import{constant as i}from\"../../core/arrayUtils.js\";import e from\"../../core/Error.js\";import{clone as a}from\"../../core/lang.js\";import{estimateSize as o}from\"../../core/typedArrayUtil.js\";import{newUintArray as l}from\"../../geometry/support/UintArray.js\";class r{constructor(t){this._validateJSON(t);const{location:i,data:e}=t;this.location=Object.freeze(a(i));const r=this.location.width,n=this.location.height;let s=!0,h=!0;const c=Math.ceil(r*n/32),m=l(c);let f=0;for(let a=0;a<e.length;a++){const t=a%32;e[a]?(h=!1,m[f]|=1<<t):s=!1,31===t&&++f}h?(this._availability=\"unavailable\",this.byteSize=40):s?(this._availability=\"available\",this.byteSize=40):(this._availability=m,this.byteSize=40+o(m))}getAvailability(t,i){if(\"unavailable\"===this._availability||\"available\"===this._availability)return this._availability;const e=(t-this.location.top)*this.location.width+(i-this.location.left),a=e%32,o=e>>5,l=this._availability;return o<0||o>l.length?\"unknown\":l[o]&1<<a?\"available\":\"unavailable\"}static fromDefinition(a,o){const l=a.service.request||t,{row:n,col:h,width:c,height:m}=a,f={query:{f:\"json\"}};return o=o?{...f,...o}:f,l(s(a),o).then((t=>t.data)).catch((t=>{if(t&&t.details&&422===t.details.httpStatus)return{location:{top:n,left:h,width:c,height:m},valid:!0,data:i(c*m,0)};throw t})).then((t=>{if(t.location&&(t.location.top!==n||t.location.left!==h||t.location.width!==c||t.location.height!==m))throw new e(\"tilemap:location-mismatch\",\"Tilemap response for different location than requested\",{response:t,definition:{top:n,left:h,width:c,height:m}});return r.fromJSON(t)}))}static fromJSON(t){return Object.freeze(new r(t))}_validateJSON(t){if(!t||!t.location)throw new e(\"tilemap:missing-location\",\"Location missing from tilemap response\");if(!1===t.valid)throw new e(\"tilemap:invalid\",\"Tilemap response was marked as invalid\");if(!t.data)throw new e(\"tilemap:missing-data\",\"Data missing from tilemap response\");if(!Array.isArray(t.data))throw new e(\"tilemap:data-mismatch\",\"Data must be an array of numbers\");if(t.data.length!==t.location.width*t.location.height)throw new e(\"tilemap:data-mismatch\",\"Number of data items does not match width/height of tilemap\")}}function n(t){return`${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}function s(t){let i;if(t.service.tileServers?.length){const e=t.service.tileServers;i=`${e&&e.length?e[t.row%e.length]:t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}else i=`${t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;const e=t.service.query;return e&&(i=`${i}?${e}`),i}export{r as Tilemap,n as tilemapDefinitionId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import i from\"../../core/Accessor.js\";import{ByteSizeUnit as r}from\"../../core/ByteSizeUnit.js\";import s from\"../../core/Error.js\";import{makeHandle as l}from\"../../core/handleUtils.js\";import{LRUCache as o}from\"../../core/LRUCache.js\";import a from\"../../core/PooledArray.js\";import{onAbort as n,createAbortError as c,isAbortError as h,isAborted as p}from\"../../core/promiseUtils.js\";import{watch as m,initial as f}from\"../../core/reactiveUtils.js\";import{waitTicks as u}from\"../../core/scheduling.js\";import{objectToQuery as v}from\"../../core/urlUtils.js\";import{property as y}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";import{TileKey as _}from\"./TileKey.js\";import{tilemapDefinitionId as b,Tilemap as g}from\"./Tilemap.js\";var w;let T=w=class extends i{constructor(e){super(e),this._pendingTilemapRequests={},this.request=t,this.size=32,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new o(2*r.MEGABYTES),this.addHandles([m((()=>{const{layer:e}=this;return[e?.parsedUrl,e?.tileServers,e?.apiKey,e?.customParameters]}),(()=>this._initializeTilemapDefinition()),f)])}get effectiveMinLOD(){return this.minLOD??this.layer.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.layer.tileInfo.lods[this.layer.tileInfo.lods.length-1].level}fetchTilemap(e,t,i,r){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return Promise.reject(new s(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`));const l=this._tmpTilemapDefinition,o=this._tilemapFromCache(e,t,i,l);if(o)return Promise.resolve(o);const a=r&&r.signal;return r={...r,signal:null},new Promise(((e,t)=>{n(a,(()=>t(c())));const i=b(l);let s=this._pendingTilemapRequests[i];if(!s){s=g.fromDefinition(l,r).then((e=>(this._tilemapCache.put(i,e,e.byteSize),e)));const e=()=>delete this._pendingTilemapRequests[i];this._pendingTilemapRequests[i]=s,s.then(e,e)}s.then(e,t)}))}getAvailability(e,t,i){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return\"unavailable\";const r=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return r?r.getAvailability(t,i):\"unknown\"}fetchAvailability(e,t,i,r){return!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD?Promise.reject(new s(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:e,row:t,col:i})):this.fetchTilemap(e,t,i,r).catch((e=>e)).then((r=>{if(r instanceof g){const l=r.getAvailability(t,i);if(\"unavailable\"===l)throw new s(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:e,row:t,col:i});return l}if(h(r))throw r;return\"unknown\"}))}fetchAvailabilityUpsample(e,t,i,r,s){r.level=e,r.row=t,r.col=i;const l=this.layer.tileInfo;l.updateTileInfo(r);const o=this.fetchAvailability(e,t,i,s).catch((e=>{if(h(e))throw e;if(l.upsampleTile(r))return this.fetchAvailabilityUpsample(r.level,r.row,r.col,r,s);throw e}));return this._fetchAvailabilityUpsamplePrefetch(r.id,e,t,i,s,o),o}async _fetchAvailabilityUpsamplePrefetch(e,t,i,r,s,o){if(!this._prefetchingEnabled||null==e)return;const a=`prefetch-${e}`;if(this.hasHandles(a))return;const n=new AbortController;o.then((()=>n.abort()),(()=>n.abort()));let c=!1;const h=l((()=>{c||(c=!0,n.abort())}));if(this.addHandles(h,a),await u(10,n.signal).catch((()=>{})),c||(c=!0,this.removeHandles(a)),p(n))return;const m=new _(e,t,i,r),f={...s,signal:n.signal},v=this.layer.tileInfo;for(let l=0;w._prefetches.length<w._maxPrefetch&&v.upsampleTile(m);++l){const e=this.fetchAvailability(m.level,m.row,m.col,f);w._prefetches.push(e);const t=()=>{w._prefetches.removeUnordered(e)};e.then(t,t)}}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const{parsedUrl:e,apiKey:t,customParameters:i}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:v({...e.query,...i,token:t??e.query?.token}),tileServers:this.layer.tileServers,request:this.request},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,r){r.level=e,r.row=t-t%this.size,r.col=i-i%this.size;const s=b(r);return this._tilemapCache.get(s)}get test(){const e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:(t,i,r)=>!!e._tilemapFromCache(t,i,r,e._tmpTilemapDefinition)}}};T._maxPrefetch=4,T._prefetches=new a({initialSize:w._maxPrefetch}),e([y({constructOnly:!0})],T.prototype,\"layer\",void 0),e([y({constructOnly:!0})],T.prototype,\"minLOD\",void 0),e([y({constructOnly:!0})],T.prototype,\"maxLOD\",void 0),e([y({constructOnly:!0})],T.prototype,\"request\",void 0),e([y({constructOnly:!0})],T.prototype,\"size\",void 0),T=w=e([d(\"esri.layers.support.TilemapCache\")],T);export{T as TilemapCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{NATIVE_ARRAY_MAX_SIZE as r,isArray as n}from\"../../core/typedArrayUtil.js\";function t(n,t=!1){return n<=r?t?new Array(n).fill(0):new Array(n):new Uint32Array(n)}function e(t){return(n(t)?t.length:t.byteLength/8)<=r?Array.from(t):new Uint32Array(t)}function y(r,n,t){return Array.isArray(r)?r.slice(n,n+t):r.subarray(n,n+t)}export{t as newUintArray,e as uintArrayFrom,y as uintSubArray};\n"],"names":["E","KILOBYTES","MEGABYTES","GIGABYTES","p","n","_p","_inherits","_super","_createSuper","_this","_classCallCheck","apply","arguments","copyright","minScale","maxScale","spatialReference","tileInfo","tilemapCache","_createClass","key","value","_this$tilemapCache","_this$tilemapCache$de","this","destroy","call","e","o","minLOD","maxLOD","get","version","r","_o$capabilities","t","capabilities","includes","a","c","Math","round","lods","scale","length","_step","_iterator","_createForOfIteratorHelper","s","done","level","err","f","layer","l","read","i","json","source","prototype","type","readOnly","undefined","lodAt","_this$minLOD","_this$maxLOD","_this$tileInfo","cols","rows","_fetchAvailability","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","getAvailability","row","col","abrupt","stop","_x","_x2","_x3","_x4","_fetchAvailabilityUpsample","_callee2","_context2","updateTileInfo","fetchAvailability","catch","upsampleTile","fetchAvailabilityUpsample","_x5","_x6","_x7","_x8","_x9","w","_validateJSON","location","data","Object","freeze","width","height","h","m","Array","fill","Uint32Array","ceil","_availability","byteSize","top","left","valid","isArray","service","request","query","_objectSpread","_t$service$tileServer","tileServers","concat","url","then","details","httpStatus","response","definition","fromJSON","T","_i","_pendingTilemapRequests","size","_prefetchingEnabled","_this2","_tilemapCache","addHandles","parsedUrl","apiKey","customParameters","_initializeTilemapDefinition","_this3","effectiveMinLOD","effectiveMaxLOD","Promise","reject","_tmpTilemapDefinition","_tilemapFromCache","resolve","signal","b","g","fromDefinition","put","fetchTilemap","_this4","_fetchAvailabilityUpsamplePrefetch","id","_fetchAvailabilityUpsamplePrefetch2","v","_loop","_this5","hasHandles","AbortController","abort","u","removeHandles","_","_prefetches","push","removeUnordered","_maxPrefetch","delegateYield","_e$query","_this$layer","clear","path","token","prefetchingEnabled","hasTilemap","initialSize","y","constructOnly","d"],"sourceRoot":""}