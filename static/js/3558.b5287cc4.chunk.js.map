{"version":3,"file":"static/js/3558.b5287cc4.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/2d/layers/GraphicsLayerView2D.js","../node_modules/@arcgis/core/views/2d/layers/graphics/GraphicContainer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import{isSome as e}from\"../../../core/arrayUtils.js\";import s from\"../../../core/Collection.js\";import{destroyMaybe as h}from\"../../../core/maybe.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/has.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LayerView2DMixin as o}from\"./LayerView2D.js\";import p from\"./graphics/GraphicContainer.js\";import g from\"./graphics/GraphicsView2D.js\";import c from\"../../layers/LayerView.js\";const l={remove(){},pause(){},resume(){}};let n=class extends(o(c)){constructor(){super(...arguments),this._highlightIds=new Map}attach(){this.graphicsView=new g({requestUpdateCallback:()=>this.requestUpdate(),view:this.view,graphics:this.layer.graphics,container:new p(this.view.featuresTilingScheme)}),this._updateHighlight(),this.container.addChild(this.graphicsView.container),this.addAttachHandles(this.layer.on(\"graphic-update\",this.graphicsView.graphicUpdateHandler))}detach(){this.container.removeAllChildren(),this.graphicsView=h(this.graphicsView)}async hitTest(i){return this.graphicsView?this.graphicsView.hitTest(i).map((t=>({type:\"graphic\",graphic:t,mapPoint:i,layer:this.layer}))):null}async fetchPopupFeatures(i){return this.graphicsView?this.graphicsView.hitTest(i).filter((i=>!!i.popupTemplate)):[]}queryGraphics(){return Promise.resolve(this.graphicsView.graphics)}update(i){this.graphicsView.processUpdate(i)}moveStart(){}viewChange(){this.graphicsView.viewChange()}moveEnd(){}isUpdating(){return!this.graphicsView||this.graphicsView.updating}highlight(i){let h;\"number\"==typeof i?h=[i]:i instanceof t?h=[i.uid]:Array.isArray(i)&&i.length>0?h=\"number\"==typeof i[0]?i:i.map((i=>i&&i.uid)):s.isCollection(i)&&i.length>0&&(h=i.map((i=>i&&i.uid)).toArray());const r=h?.filter(e);return r?.length?(this._addHighlight(r),{remove:()=>this._removeHighlight(r)}):l}_addHighlight(i){for(const t of i)if(this._highlightIds.has(t)){const i=this._highlightIds.get(t);this._highlightIds.set(t,i+1)}else this._highlightIds.set(t,1);this._updateHighlight()}_removeHighlight(i){for(const t of i)if(this._highlightIds.has(t)){const i=this._highlightIds.get(t)-1;0===i?this._highlightIds.delete(t):this._highlightIds.set(t,i)}this._updateHighlight()}_updateHighlight(){this.graphicsView?.setHighlight(Array.from(this._highlightIds.keys()))}};i([r()],n.prototype,\"graphicsView\",void 0),n=i([a(\"esri.views.2d.layers.GraphicsLayerView2D\")],n);const d=n;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e}from\"../../engine/webgl/enums.js\";import r from\"./BaseGraphicContainer.js\";class i extends r{renderChildren(r){this.attributeView.update(),this.children.some((e=>e.hasData))&&(this.attributeView.bindTextures(r.context,!1),super.renderChildren(r),r.drawPhase===e.MAP&&this._renderChildren(r),this.hasHighlight()&&r.drawPhase===e.HIGHLIGHT&&this._renderHighlight(r),this._boundsRenderer&&this._boundsRenderer.doRender(r))}_renderHighlight(e){const{painter:r}=e,i=r.effects.highlight;i.bind(e),this._renderChildren(e,i.defines),i.draw(e),i.unbind()}}export{i as default};\n"],"names":["l","remove","pause","resume","n","_o","_inherits","_super","_createSuper","_this","_classCallCheck","apply","arguments","_highlightIds","Map","_createClass","key","value","_this2","this","graphicsView","g","requestUpdateCallback","requestUpdate","view","graphics","layer","container","p","featuresTilingScheme","_updateHighlight","addChild","addAttachHandles","on","graphicUpdateHandler","removeAllChildren","h","_hitTest","_asyncToGenerator","_regeneratorRuntime","mark","_callee","i","_this3","wrap","_context","prev","next","abrupt","hitTest","map","t","type","graphic","mapPoint","stop","_x","_fetchPopupFeatures","_callee2","_context2","filter","popupTemplate","_x2","Promise","resolve","processUpdate","viewChange","updating","_h","_this4","uid","Array","isArray","length","s","isCollection","toArray","r","e","_addHighlight","_removeHighlight","_step","_iterator","_createForOfIteratorHelper","done","has","get","set","err","f","_step2","_iterator2","delete","_this$graphicsView","setHighlight","from","keys","o","c","prototype","d","a","_r","attributeView","update","children","some","hasData","bindTextures","context","_get","_getPrototypeOf","call","drawPhase","MAP","_renderChildren","hasHighlight","HIGHLIGHT","_renderHighlight","_boundsRenderer","doRender","painter","effects","highlight","bind","defines","draw","unbind"],"sourceRoot":""}