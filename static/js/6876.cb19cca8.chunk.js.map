{"version":3,"file":"static/js/6876.cb19cca8.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/CircularArray.js","../node_modules/@arcgis/core/views/2d/layers/features/FeatureStore2D.js","../node_modules/@arcgis/core/views/2d/layers/features/Store2D.js","../node_modules/@arcgis/core/views/2d/arcade/callExpressionWithCursor.js","../node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFIndirect.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this.size=0,this._start=0,this.maxSize=t,this._buffer=new Array(t)}get entries(){return this._buffer}enqueue(t){if(this.size===this.maxSize){const s=this._buffer[this._start];return this._buffer[this._start]=t,this._start=(this._start+1)%this.maxSize,s}return this._buffer[(this._start+this.size++)%this.maxSize]=t,null}dequeue(){if(0===this.size)return null;const t=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,t}peek(){return 0===this.size?null:this._buffer[this._start]}find(t){if(0===this.size)return null;for(const s of this._buffer)if(null!=s&&t(s))return s;return null}clear(t){let s=this.dequeue();for(;null!=s;)t&&t(s),s=this.dequeue()}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/CircularArray.js\";import e from\"../../../../core/Evented.js\";import\"../../../../core/has.js\";import{r as s}from\"../../../../chunks/rbush.js\";import{create as a,fromRectValues as r}from\"../../../../geometry/support/aaBoundingBox.js\";import{Store2D as n}from\"./Store2D.js\";import{FeatureSetReaderIndirect as i}from\"./support/FeatureSetReaderPBFIndirect.js\";const o=a();function d(t,e){return t<<16|e}function h(t){return(4294901760&t)>>>16}function c(t){return 65535&t}const I={getObjectId:t=>t.getObjectId(),getAttributes:t=>t.readAttributes(),getAttribute:(t,e)=>t.readAttribute(e),cloneWithGeometry:(t,e)=>t,getGeometry:t=>t.readHydratedGeometry(),getCentroid:(t,e)=>t.readCentroid()};class u extends n{constructor(a,r,n){super(a,r),this.featureAdapter=I,this.events=new e,this._featureSetsByInstance=new Map,this._objectIdToDisplayId=new Map,this._spatialIndexInvalid=!0,this._indexSearchCache=new t(50),this._index=s(9,(t=>({minX:this._storage.getXMin(t),minY:this._storage.getYMin(t),maxX:this._storage.getXMax(t),maxY:this._storage.getYMax(t)}))),this.mode=n}get storeStatistics(){let t=0,e=0,s=0;return this.forEach((a=>{const r=a.readGeometry();r&&(e+=r.isPoint?1:r.lengths.reduce(((t,e)=>t+e),0),s+=r.isPoint?1:r.lengths.length,t+=1)})),{featureCount:t,vertexCount:e,ringCount:s}}hasInstance(t){return this._featureSetsByInstance.has(t)}onTileData(t,e){if(null==e.addOrUpdate)return e;if(e.addOrUpdate.attachStorage(this._storage),\"snapshot\"===this.mode){const s=e.addOrUpdate.getCursor();for(;s.next();){const e=s.getDisplayId();this.setComputedAttributes(this._storage,s,e,t.scale)}return e}this._featureSetsByInstance.set(e.addOrUpdate.instance,e.addOrUpdate);const s=e.addOrUpdate.getCursor();for(;s.next();)this._insertFeature(s,t.scale);return this._spatialIndexInvalid=!0,this.events.emit(\"changed\"),e}search(t){this._rebuildIndex();const e=t.id,s=this._indexSearchCache.find((t=>t.tileId===e));if(null!=s)return s.readers;const a=new Map,r=this._searchIndex(t.bounds),n=[];for(const i of r){const t=this._storage.getInstanceId(i),e=h(t),s=c(t);a.has(e)||a.set(e,[]);a.get(e).push(s)}return a.forEach(((t,e)=>{const s=this._featureSetsByInstance.get(e);n.push(i.from(s,t))})),this._indexSearchCache.enqueue({tileId:e,readers:n}),n}insert(t){const e=t.getCursor(),s=this._storage;for(;e.next();){const t=d(e.instance,e.getIndex()),a=e.getObjectId(),r=this._objectIdToDisplayId.get(a)??this._storage.createDisplayId();e.setDisplayId(r),s.setInstanceId(r,t),this._objectIdToDisplayId.set(a,r)}this._featureSetsByInstance.set(t.instance,t),this._spatialIndexInvalid=!0}remove(t){const e=this._objectIdToDisplayId.get(t);if(!e)return;const s=this._storage.getInstanceId(e),a=c(s),r=h(s),n=this._featureSetsByInstance.get(r);this._objectIdToDisplayId.delete(t),this._storage.releaseDisplayId(e),n.removeAtIndex(a),n.isEmpty&&this._featureSetsByInstance.delete(r),this._spatialIndexInvalid=!0}forEach(t){this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e),a=this._lookupFeature(s);t(a)}))}forEachUnsafe(t){this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e),a=h(s),r=c(s),n=this._getFeatureSet(a);n.setIndex(r),t(n)}))}forEachInBounds(t,e){const s=this._searchIndex(t);for(const a of s){e(this.lookupFeatureByDisplayId(a,this._storage))}}forEachBounds(t,e){this._rebuildIndex();for(const s of t){if(!s.readGeometry())continue;const t=s.getDisplayId();r(o,this._storage.getXMin(t),this._storage.getYMin(t),this._storage.getXMax(t),this._storage.getYMax(t)),e(o)}}sweepFeatures(t,e,s){this._spatialIndexInvalid=!0,this._objectIdToDisplayId.forEach(((a,r)=>{t.has(a)||(e.releaseDisplayId(a),s&&s.unsetAttributeData(a),this._objectIdToDisplayId.delete(r))})),this.events.emit(\"changed\")}sweepFeatureSets(t){this._spatialIndexInvalid=!0,this._featureSetsByInstance.forEach(((e,s)=>{t.has(s)||this._featureSetsByInstance.delete(s)}))}lookupObjectId(t,e){const s=this.lookupFeatureByDisplayId(t,e);return null==s?null:s.getObjectId()}lookupDisplayId(t){return this._objectIdToDisplayId.get(t)}lookupFeatureByDisplayId(t,e){const s=e.getInstanceId(t);return this._lookupFeature(s)}lookupByDisplayIdUnsafe(t){const e=this._storage.getInstanceId(t),s=h(e),a=c(e),r=this._getFeatureSet(s);return r?(r.setIndex(a),r):null}_insertFeature(t,e){const s=this._storage,a=t.getObjectId(),r=d(t.instance,t.getIndex());s.getInstanceId(t.getDisplayId());let n=this._objectIdToDisplayId.get(a);n||(n=s.createDisplayId(),this._objectIdToDisplayId.set(a,n),this._spatialIndexInvalid=!0),t.setDisplayId(n),s.setInstanceId(n,r),this.setComputedAttributes(s,t,n,e)}_searchIndex(t){this._rebuildIndex();const e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this._index.search(e)}_rebuildIndex(){if(!this._spatialIndexInvalid)return;const t=[];\"snapshot\"===this.mode?this._featureSetsByInstance.forEach((e=>{const s=e.getCursor();for(;s.next();){const e=s.getDisplayId();this._storage.setBounds(e,s)&&t.push(e)}})):this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e);this._storage.setBounds(e,this._lookupFeature(s))&&t.push(e)})),this._index.clear(),this._index.load(t),this._indexSearchCache.clear(),this._spatialIndexInvalid=!1}_lookupFeature(t){const e=h(t),s=this._getFeatureSet(e);if(!s)return;const a=s.getCursor(),r=c(t);return a.setIndex(r),a}_getFeatureSet(t){return this._featureSetsByInstance.get(t)}}export{u as FeatureStore2D,I as featureAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{diff as e,hasDiff as s}from\"../../../../core/accessorSupport/diffUtils.js\";import{createRendererExpression as t}from\"../../../../support/arcadeOnDemand.js\";import i from\"../../arcade/callExpressionWithCursor.js\";class a{constructor(e,s){this._canCacheExpressionValue=!1,this._sourceInfo=e,this._storage=s,this._bitsets={computed:s.getBitset(s.createBitset())}}get storage(){return this._storage}invalidate(){this._bitsets.computed.clear()}async updateSchema(t,i){const a=e(this._schema,i);if(this._schema=i,!i||null==a||!s(a,\"attributes\"))return;has(\"esri-2d-update-debug\")&&console.debug(\"Applying Update - Store:\",a),this._bitsets.computed.clear(),t.targets[i.name]=!0;const r=i.attributes,o=[],c=[];for(const e in r){const s=r[e];switch(s.type){case\"field\":break;case\"expression\":o.push(this._createArcadeComputedField(s));break;case\"label-expression\":o.push(this._createLabelArcadeComputedField(s));break;case\"statistic\":c.push(s)}}this._computedFields=await Promise.all(o),this._canCacheExpressionValue=!this._computedFields.some((e=>\"expression\"===e.type&&null!=e.expression&&e.expression.referencesScale())),this._statisticFields=c}setComputedAttributes(e,s,t,i){const a=this._bitsets.computed;if(!this._canCacheExpressionValue||!a.has(t)){a.set(t);for(const a of this._computedFields){const r=this._evaluateField(s,a,i);switch(a.resultType){case\"numeric\":e.setComputedNumericAtIndex(t,a.fieldIndex,r);break;case\"string\":e.setComputedStringAtIndex(t,a.fieldIndex,r)}}}}async _createArcadeComputedField(e){const s=this._sourceInfo.spatialReference,i=this._sourceInfo.fieldsIndex;return{...e,expression:await t(e.valueExpression,s,i)}}async _createLabelArcadeComputedField(e){const s=this._sourceInfo.spatialReference,t=this._sourceInfo.fieldsIndex,{createLabelFunction:i}=await import(\"../../../../layers/support/labelFormatUtils.js\"),a=await i(e.label,t,s);return{...e,builder:a}}_evaluateField(e,s,t){switch(s.type){case\"label-expression\":{const t=e.readArcadeFeature();return s.builder.evaluate(t)||\"\"}case\"expression\":{const{expression:a}=s;return i(a,e,{$view:{scale:t}})}}}}export{a as Store2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";function r(r,a,t){if(null==r)return null;const u=a.readArcadeFeature();try{return r.evaluate({...t,$feature:u},r.services)}catch(n){return e.getLogger(\"esri.views.2d.support.arcadeOnDemand\").warn(\"Feature arcade evaluation failed:\",n),null}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{FeatureSetReader as e}from\"./FeatureSetReader.js\";class r extends e{static from(e,t){return new r(e.copy(),t)}constructor(r,t){super(e.createInstance(),r.fullSchema()),this._currentIndex=-1,this._reader=r,this._indices=t}get fields(){return this._reader.fields}get hasNext(){return this._currentIndex+1<this._indices.length}getSize(){return this._indices.length}getCursor(){return this.copy()}copy(){const e=new r(this._reader.copy(),this._indices);return e._currentIndex=this._currentIndex,e}next(){for(;this._nextIndex()&&!this._reader._getExists(););return this._currentIndex<this._indices.length}_nextIndex(){return++this._currentIndex<this._indices.length&&(this._reader.setIndex(this._indices[this._currentIndex]),!0)}setArcadeSpatialReference(e){this._reader.setArcadeSpatialReference(e)}attachStorage(e){this._reader.attachStorage(e)}get geometryType(){return this._reader.geometryType}get hasFeatures(){return this._reader.hasFeatures}get exceededTransferLimit(){return this._reader.exceededTransferLimit}get hasZ(){return this._reader.hasZ}get hasM(){return this._reader.hasM}getStorage(){return this._reader.getStorage()}getComputedNumeric(e){return this._reader.getComputedNumericAtIndex(0)}setComputedNumeric(e,r){return this._reader.setComputedNumericAtIndex(r,0)}getComputedString(e){return this._reader.getComputedStringAtIndex(0)}setComputedString(e,r){return this._reader.setComputedStringAtIndex(0,r)}getComputedNumericAtIndex(e){return this._reader.getComputedNumericAtIndex(e)}setComputedNumericAtIndex(e,r){this._reader.setComputedNumericAtIndex(e,r)}getComputedStringAtIndex(e){return this._reader.getComputedStringAtIndex(e)}setComputedStringAtIndex(e,r){return this._reader.setComputedStringAtIndex(e,r)}transform(e,r,t,d){const a=this.copy();return a._reader=this._reader.transform(e,r,t,d),a}readAttribute(e,r=!1){return this._reader.readAttribute(e,r)}readAttributes(){return this._reader.readAttributes()}joinAttributes(e){return this._reader.joinAttributes(e)}readArcadeFeature(){return this._reader.readArcadeFeature()}geometry(){return this._reader.geometry()}field(e){return this.readAttribute(e,!0)}hasField(e){return this._reader.hasField(e)}setField(e,r){return this._reader.setField(e,r)}keys(){return this._reader.keys()}castToText(e=!1){return this._reader.castToText(e)}getQuantizationTransform(){return this._reader.getQuantizationTransform()}getAttributeHash(){return this._reader.getAttributeHash()}getObjectId(){return this._reader.getObjectId()}getDisplayId(){return this._reader.getDisplayId()}setDisplayId(e){return this._reader.setDisplayId(e)}getGroupId(){return this._reader.getGroupId()}setGroupId(e){return this._reader.setGroupId(e)}getXHydrated(){return this._reader.getXHydrated()}getYHydrated(){return this._reader.getYHydrated()}getX(){return this._reader.getX()}getY(){return this._reader.getY()}setIndex(e){return this._reader.setIndex(e)}getIndex(){return this._reader.getIndex()}readLegacyFeature(){return this._reader.readLegacyFeature()}readOptimizedFeature(){return this._reader.readOptimizedFeature()}readLegacyPointGeometry(){return this._reader.readLegacyPointGeometry()}readLegacyGeometry(){return this._reader.readLegacyGeometry()}readLegacyCentroid(){return this._reader.readLegacyCentroid()}readGeometryArea(){return this._reader.readGeometryArea()}readUnquantizedGeometry(){return this._reader.readUnquantizedGeometry()}readHydratedGeometry(){return this._reader.readHydratedGeometry()}readGeometry(){return this._reader.readGeometry()}readCentroid(){return this._reader.readCentroid()}_readAttribute(e,r){throw new Error(\"Error: Should not be called. Underlying _reader should be used instead\")}_readAttributes(){throw new Error(\"Error: Should not be called. Underlying _reader should be used instead\")}}export{r as FeatureSetReaderIndirect};\n"],"names":["t","_classCallCheck","this","size","_start","maxSize","_buffer","Array","_createClass","key","get","value","s","_step","_iterator","_createForOfIteratorHelper","n","done","err","e","f","dequeue","o","a","d","h","c","I","getObjectId","getAttributes","readAttributes","getAttribute","readAttribute","cloneWithGeometry","getGeometry","readHydratedGeometry","getCentroid","readCentroid","u","_n","_inherits","_super","_createSuper","r","_this","call","featureAdapter","events","_featureSetsByInstance","Map","_objectIdToDisplayId","_spatialIndexInvalid","_indexSearchCache","_index","minX","_storage","getXMin","minY","getYMin","maxX","getXMax","maxY","getYMax","mode","forEach","readGeometry","isPoint","lengths","reduce","length","featureCount","vertexCount","ringCount","has","addOrUpdate","attachStorage","getCursor","next","getDisplayId","setComputedAttributes","scale","set","instance","_insertFeature","emit","_this2","_rebuildIndex","id","find","tileId","readers","_searchIndex","bounds","i","getInstanceId","push","from","enqueue","_this$_objectIdToDisp","getIndex","createDisplayId","setDisplayId","setInstanceId","delete","releaseDisplayId","removeAtIndex","isEmpty","_this3","_lookupFeature","_this4","_getFeatureSet","setIndex","_step2","_iterator2","lookupFeatureByDisplayId","_step3","_iterator3","_this5","unsetAttributeData","_this6","search","_this7","setBounds","clear","load","_canCacheExpressionValue","_sourceInfo","_bitsets","computed","getBitset","createBitset","_updateSchema","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_a","_e","_s","wrap","_context","prev","_schema","abrupt","console","debug","targets","name","attributes","t0","keys","t1","t2","type","_createArcadeComputedField","_createLabelArcadeComputedField","Promise","all","_computedFields","sent","some","expression","referencesScale","_statisticFields","stop","_x","_x2","apply","arguments","_evaluateField","resultType","setComputedNumericAtIndex","fieldIndex","setComputedStringAtIndex","_createArcadeComputedField2","_callee2","_context2","spatialReference","fieldsIndex","_objectSpread","valueExpression","t3","t4","_x3","_createLabelArcadeComputedField2","_callee3","_yield$import","_a4","_context3","createLabelFunction","label","builder","_x4","readArcadeFeature","evaluate","$feature","services","getLogger","warn","$view","createInstance","fullSchema","_currentIndex","_reader","_indices","fields","copy","_nextIndex","_getExists","setArcadeSpatialReference","geometryType","hasFeatures","exceededTransferLimit","hasZ","hasM","getStorage","getComputedNumericAtIndex","getComputedStringAtIndex","transform","undefined","joinAttributes","geometry","hasField","setField","castToText","getQuantizationTransform","getAttributeHash","getGroupId","setGroupId","getXHydrated","getYHydrated","getX","getY","readLegacyFeature","readOptimizedFeature","readLegacyPointGeometry","readLegacyGeometry","readLegacyCentroid","readGeometryArea","readUnquantizedGeometry","Error"],"sourceRoot":""}