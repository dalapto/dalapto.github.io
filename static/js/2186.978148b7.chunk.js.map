{"version":3,"file":"static/js/2186.978148b7.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/2d/engine/webgl/GroupContainer.js","../node_modules/@arcgis/core/views/2d/layers/MapNotesLayerView2D.js","../node_modules/@arcgis/core/views/2d/layers/graphics/GraphicContainer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"./WGLContainer.js\";import{TextureSamplingMode as t}from\"../../../webgl/enums.js\";class r extends e{constructor(){super(...arguments),this._prevFBO=void 0,this.requiresDedicatedFBO=!1}dispose(){}doRender(e){const r=this.createRenderParams(e),{context:o,painter:s,profiler:n}=r;this._prevFBO=o.getBoundFramebufferObject(),n.recordContainerStart(this.name);const i=this._getFbo(r),a=s.getRenderTarget();o.bindFramebuffer(i),s.setRenderTarget(i),o.setDepthWriteEnabled(!0),o.setColorMask(!0,!0,!0,!0),o.setClearColor(0,0,0,0),o.setClearDepth(1),o.clear(o.gl.COLOR_BUFFER_BIT|o.gl.DEPTH_BUFFER_BIT),o.setDepthWriteEnabled(!1);for(const t of this.children)t.beforeRender(e);for(const t of this.children)t.processRender(r);for(const t of this.children)t.afterRender(e);s.setRenderTarget(a),s.releaseFbo(i),o.bindFramebuffer(this._prevFBO),s.beforeRenderLayer(r,this._clippingInfos?255:0,this.computedOpacity),i.colorTexture&&(o.setStencilTestEnabled(!1),o.setStencilWriteMask(0),s.blitTexture(o,i.colorTexture,t.NEAREST)),s.compositeLayer(r,this.computedOpacity),n.recordContainerEnd()}createRenderParams(e){return{...super.createRenderParams(e),blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:1}}_getFbo(e){const{context:t,painter:r}=e,{width:o,height:s}=t.getViewport();return r.acquireFbo(o,s)}}export{r as GroupContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import i from\"../../../Graphic.js\";import{isSome as s}from\"../../../core/arrayUtils.js\";import t from\"../../../core/Collection.js\";import{watch as r,on as a,initial as h}from\"../../../core/reactiveUtils.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/has.js\";import\"../../../core/Error.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{Container as n}from\"../engine/Container.js\";import{GroupContainer as l}from\"../engine/webgl/GroupContainer.js\";import{LayerView2DMixin as p}from\"./LayerView2D.js\";import c from\"./graphics/GraphicContainer.js\";import g from\"./graphics/GraphicsView2D.js\";import d from\"../../layers/LayerView.js\";const u=\"sublayers\",f=\"layerView\",m=Object.freeze({remove(){},pause(){},resume(){}});let w=class extends(p(d)){constructor(){super(...arguments),this._highlightIds=new Map,this.container=new l}async fetchPopupFeatures(e){return Array.from(this.graphicsViews(),(i=>i.hitTest(e).filter((e=>!!e.popupTemplate)))).flat()}*graphicsViews(){null==this._graphicsViewsFeatureCollectionMap?null==this._graphicsViews?yield*[]:yield*this._graphicsViews:yield*this._graphicsViewsFeatureCollectionMap.keys()}async hitTest(e,i){return Array.from(this.graphicsViews(),(i=>{const s=i.hitTest(e);if(null!=this._graphicsViewsFeatureCollectionMap){const e=this._graphicsViewsFeatureCollectionMap.get(i);for(const i of s)!i.popupTemplate&&e.popupTemplate&&(i.popupTemplate=e.popupTemplate),i.sourceLayer=i.layer=this.layer}return s})).flat().map((i=>({type:\"graphic\",graphic:i,layer:this.layer,mapPoint:e})))}highlight(e){let r;\"number\"==typeof e?r=[e]:e instanceof i?r=[e.uid]:Array.isArray(e)&&e.length>0?r=\"number\"==typeof e[0]?e:e.map((e=>e&&e.uid)):t.isCollection(e)&&(r=e.map((e=>e&&e.uid)).toArray());const a=r?.filter(s);return a?.length?(this._addHighlight(a),{remove:()=>{this._removeHighlight(a)}}):m}update(e){for(const i of this.graphicsViews())i.processUpdate(e)}attach(){const e=this.view,i=()=>this.requestUpdate(),s=this.layer.featureCollections;if(null!=s&&s.length){this._graphicsViewsFeatureCollectionMap=new Map;for(const t of s){const s=new c(this.view.featuresTilingScheme),a=new g({view:e,graphics:t.source,renderer:t.renderer,requestUpdateCallback:i,container:s});this._graphicsViewsFeatureCollectionMap.set(a,t),this.container.addChild(a.container),this.addHandles([r((()=>t.visible),(e=>a.container.visible=e),h),r((()=>a.updating),(()=>this.notifyChange(\"updating\")),h)],f)}this._updateHighlight()}else null!=this.layer.sublayers&&this.addHandles(a((()=>this.layer.sublayers),\"change\",(()=>this._createGraphicsViews()),{onListenerAdd:()=>this._createGraphicsViews(),onListenerRemove:()=>this._destroyGraphicsViews()}),u)}detach(){this._destroyGraphicsViews(),this.removeHandles(u)}moveStart(){}moveEnd(){}viewChange(){for(const e of this.graphicsViews())e.viewChange()}isUpdating(){for(const e of this.graphicsViews())if(e.updating)return!0;return!1}_destroyGraphicsViews(){this.container.removeAllChildren(),this.removeHandles(f);for(const e of this.graphicsViews())e.destroy();this._graphicsViews=null,this._graphicsViewsFeatureCollectionMap=null}_createGraphicsViews(){if(this._destroyGraphicsViews(),null==this.layer.sublayers)return;const e=[],i=this.view,s=()=>this.requestUpdate();for(const t of this.layer.sublayers){const a=new n,o=new c(this.view.featuresTilingScheme);o.fadeTransitionEnabled=!0;const l=new g({view:i,graphics:t.graphics,requestUpdateCallback:s,container:o});this.addHandles([t.on(\"graphic-update\",l.graphicUpdateHandler),r((()=>t.visible),(e=>l.container.visible=e),h),r((()=>l.updating),(()=>this.notifyChange(\"updating\")),h)],f),a.addChild(l.container),this.container.addChild(a),e.push(l)}this._graphicsViews=e,this._updateHighlight()}_addHighlight(e){for(const i of e)if(this._highlightIds.has(i)){const e=this._highlightIds.get(i);this._highlightIds.set(i,e+1)}else this._highlightIds.set(i,1);this._updateHighlight()}_removeHighlight(e){for(const i of e)if(this._highlightIds.has(i)){const e=this._highlightIds.get(i)-1;0===e?this._highlightIds.delete(i):this._highlightIds.set(i,e)}this._updateHighlight()}_updateHighlight(){const e=Array.from(this._highlightIds.keys());for(const i of this.graphicsViews())i.setHighlight(e)}};w=e([o(\"esri.views.2d.layers.MapNotesLayerView2D\")],w);const y=w;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e}from\"../../engine/webgl/enums.js\";import r from\"./BaseGraphicContainer.js\";class i extends r{renderChildren(r){this.attributeView.update(),this.children.some((e=>e.hasData))&&(this.attributeView.bindTextures(r.context,!1),super.renderChildren(r),r.drawPhase===e.MAP&&this._renderChildren(r),this.hasHighlight()&&r.drawPhase===e.HIGHLIGHT&&this._renderHighlight(r),this._boundsRenderer&&this._boundsRenderer.doRender(r))}_renderHighlight(e){const{painter:r}=e,i=r.effects.highlight;i.bind(e),this._renderChildren(e,i.defines),i.draw(e),i.unbind()}}export{i as default};\n"],"names":["r","_e","_inherits","_super","_createSuper","_this","_classCallCheck","apply","arguments","_prevFBO","requiresDedicatedFBO","_createClass","key","value","e","this","createRenderParams","o","context","s","painter","n","profiler","getBoundFramebufferObject","recordContainerStart","name","i","_getFbo","a","getRenderTarget","bindFramebuffer","setRenderTarget","setDepthWriteEnabled","setColorMask","setClearColor","setClearDepth","clear","gl","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","_step","_iterator","_createForOfIteratorHelper","children","done","beforeRender","err","f","_step2","_iterator2","processRender","_step3","_iterator3","afterRender","releaseFbo","beforeRenderLayer","_clippingInfos","computedOpacity","colorTexture","setStencilTestEnabled","setStencilWriteMask","blitTexture","t","NEAREST","compositeLayer","recordContainerEnd","_objectSpread","_get","_getPrototypeOf","prototype","call","blendMode","effects","computedEffects","globalOpacity","_t$getViewport","getViewport","width","height","acquireFbo","u","m","Object","freeze","remove","pause","resume","w","_p","_highlightIds","Map","container","l","_fetchPopupFeatures","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","abrupt","Array","from","graphicsViews","hitTest","filter","popupTemplate","flat","stop","_x","_context2","_graphicsViewsFeatureCollectionMap","_graphicsViews","delegateYield","keys","_hitTest","_callee2","_this2","_context3","get","sourceLayer","layer","map","type","graphic","mapPoint","_x2","_x3","_r","_this3","uid","isArray","length","isCollection","toArray","_addHighlight","_removeHighlight","processUpdate","_this4","view","requestUpdate","featureCollections","_loop","c","featuresTilingScheme","g","graphics","source","renderer","requestUpdateCallback","set","addChild","addHandles","visible","h","updating","notifyChange","_updateHighlight","sublayers","_createGraphicsViews","onListenerAdd","onListenerRemove","_destroyGraphicsViews","removeHandles","_step4","_iterator4","viewChange","_step5","_iterator5","removeAllChildren","_step6","_iterator6","destroy","_this5","_step7","_iterator7","_loop2","fadeTransitionEnabled","on","graphicUpdateHandler","push","_step8","_iterator8","has","_step9","_iterator9","delete","_step10","_iterator10","setHighlight","p","d","y","attributeView","update","some","hasData","bindTextures","drawPhase","MAP","_renderChildren","hasHighlight","HIGHLIGHT","_renderHighlight","_boundsRenderer","doRender","highlight","bind","defines","draw","unbind"],"sourceRoot":""}