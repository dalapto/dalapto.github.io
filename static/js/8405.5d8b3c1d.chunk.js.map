{"version":3,"file":"static/js/8405.5d8b3c1d.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/2d/layers/RouteLayerView2D.js","../node_modules/@arcgis/core/views/2d/layers/graphics/GraphicContainer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{isSome as e}from\"../../../core/arrayUtils.js\";import r from\"../../../core/Collection.js\";import i from\"../../../core/CollectionFlattener.js\";import{initial as s,watch as o}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/has.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../rest/support/DirectionLine.js\";import p from\"../../../rest/support/DirectionPoint.js\";import l from\"../../../rest/support/PointBarrier.js\";import c from\"../../../rest/support/PolygonBarrier.js\";import g from\"../../../rest/support/PolylineBarrier.js\";import u from\"../../../rest/support/RouteInfo.js\";import d from\"../../../rest/support/Stop.js\";import{LayerView2DMixin as _}from\"./LayerView2D.js\";import m from\"./graphics/GraphicContainer.js\";import w from\"./graphics/GraphicsView2D.js\";import f from\"../../layers/LayerView.js\";const y=Object.freeze({remove(){},pause(){},resume(){}}),k=[\"route-info\",\"direction-line\",\"direction-point\",\"polygon-barrier\",\"polyline-barrier\",\"point-barrier\",\"stop\"],v={graphic:null,property:null,oldValue:null,newValue:null};function M(t){return t instanceof n||t instanceof p||t instanceof l||t instanceof c||t instanceof g||t instanceof u||t instanceof d}function V(t){return r.isCollection(t)&&t.length&&M(t.at(0))}function j(t){return Array.isArray(t)&&t.length>0&&M(t[0])}let G=class extends(_(f)){constructor(){super(...arguments),this._graphics=new r,this._highlightIds=new Map,this._networkFeatureMap=new Map,this._networkGraphicMap=new Map}get _routeItems(){return new i({getCollections:()=>null==this.layer||this.destroyed?[]:[null!=this.layer.routeInfo?new r([this.layer.routeInfo]):null,this.layer.directionLines,this.layer.directionPoints,this.layer.polygonBarriers,this.layer.polylineBarriers,this.layer.pointBarriers,this.layer.stops]})}initialize(){this.updatingHandles.addOnCollectionChange((()=>this._routeItems),(t=>this._routeItemsChanged(t)),s)}destroy(){this._networkFeatureMap.clear(),this._networkGraphicMap.clear(),this._graphics.removeAll(),this._get(\"_routeItems\")?.destroy()}attach(){this._createGraphicsView()}detach(){this._destroyGraphicsView()}async fetchPopupFeatures(t){return this._graphicsView.hitTest(t).filter((t=>!!t.popupTemplate))}highlight(t){let r;r=M(t)?[this._getNetworkFeatureUid(t)]:j(t)?t.map((t=>this._getNetworkFeatureUid(t))):V(t)?t.map((t=>this._getNetworkFeatureUid(t))).toArray():[t.uid];const i=r.filter(e);return i.length?(this._addHighlight(i),{remove:()=>this._removeHighlight(i)}):y}async hitTest(t,r){if(this.suspended)return null;const i=this._graphicsView.hitTest(t).filter(e).map((t=>this._networkGraphicMap.get(t)));if(!i.length)return null;const{layer:s}=this;return i.reverse().map((e=>({type:\"route\",layer:s,mapPoint:t,networkFeature:e})))}isUpdating(){return this._graphicsView.updating}moveStart(){}moveEnd(){}update(t){this._graphicsView.processUpdate(t)}viewChange(){this._graphicsView.viewChange()}_addHighlight(t){for(const e of t)if(this._highlightIds.has(e)){const t=this._highlightIds.get(e);this._highlightIds.set(e,t+1)}else this._highlightIds.set(e,1);this._updateHighlight()}_createGraphic(t){const e=t.toGraphic();return e.layer=this.layer,e.sourceLayer=this.layer,e}_createGraphicsView(){const t=this.view,e=()=>this.requestUpdate(),r=new m(t.featuresTilingScheme);this._graphicsView=new w({container:r,graphics:this._graphics,requestUpdateCallback:e,view:t}),this.container.addChild(r),this._updateHighlight()}_destroyGraphicsView(){this.container.removeChild(this._graphicsView.container),this._graphicsView.destroy()}_getDrawOrder(t){const e=this._networkGraphicMap.get(t);return k.indexOf(e.type)}_getNetworkFeatureUid(t){return this._networkFeatureMap.has(t)?this._networkFeatureMap.get(t).uid:null}_removeHighlight(t){for(const e of t)if(this._highlightIds.has(e)){const t=this._highlightIds.get(e)-1;0===t?this._highlightIds.delete(e):this._highlightIds.set(e,t)}this._updateHighlight()}_routeItemsChanged(t){if(t.removed.length){this._graphics.removeMany(t.removed.map((t=>{const e=this._networkFeatureMap.get(t);return this._networkFeatureMap.delete(t),this._networkGraphicMap.delete(e),e})));for(const e of t.removed)this.removeHandles(e)}if(t.added.length){this._graphics.addMany(t.added.map((t=>{const e=this._createGraphic(t);return null==e.symbol?null:(this._networkFeatureMap.set(t,e),this._networkGraphicMap.set(e,t),e)})).filter(e));for(const e of t.added)this.addHandles([o((()=>e.geometry),((t,r)=>{this._updateGraphic(e,\"geometry\",t,r)})),o((()=>e.symbol),((t,r)=>{this._updateGraphic(e,\"symbol\",t,r)}))],e);this._graphics.sort(((t,e)=>this._getDrawOrder(t)-this._getDrawOrder(e)))}}_updateGraphic(t,e,r,i){if(!this._networkFeatureMap.has(t)){const e=this._createGraphic(t);return this._networkFeatureMap.set(t,e),this._networkGraphicMap.set(e,t),void this._graphics.add(e)}const s=this._networkFeatureMap.get(t);s[e]=r,v.graphic=s,v.property=e,v.oldValue=i,v.newValue=r,this._graphicsView.graphicUpdateHandler(v)}_updateHighlight(){const t=Array.from(this._highlightIds.keys());this._graphicsView.setHighlight(t)}};t([a()],G.prototype,\"_graphics\",void 0),t([a()],G.prototype,\"_routeItems\",null),G=t([h(\"esri.views.2d.layers.RouteLayerView2D\")],G);const I=G;export{I as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e}from\"../../engine/webgl/enums.js\";import r from\"./BaseGraphicContainer.js\";class i extends r{renderChildren(r){this.attributeView.update(),this.children.some((e=>e.hasData))&&(this.attributeView.bindTextures(r.context,!1),super.renderChildren(r),r.drawPhase===e.MAP&&this._renderChildren(r),this.hasHighlight()&&r.drawPhase===e.HIGHLIGHT&&this._renderHighlight(r),this._boundsRenderer&&this._boundsRenderer.doRender(r))}_renderHighlight(e){const{painter:r}=e,i=r.effects.highlight;i.bind(e),this._renderChildren(e,i.defines),i.draw(e),i.unbind()}}export{i as default};\n"],"names":["y","Object","freeze","remove","pause","resume","k","v","graphic","property","oldValue","newValue","M","t","n","p","l","c","g","u","d","G","_ref","_inherits","_super","_createSuper","_this","_classCallCheck","apply","arguments","_graphics","r","_highlightIds","Map","_networkFeatureMap","_networkGraphicMap","_createClass","key","get","_this2","i","getCollections","layer","destroyed","routeInfo","directionLines","directionPoints","polygonBarriers","polylineBarriers","pointBarriers","stops","value","_this3","this","updatingHandles","addOnCollectionChange","_routeItems","_routeItemsChanged","s","_this$_get","clear","removeAll","_get","destroy","_createGraphicsView","_destroyGraphicsView","_fetchPopupFeatures","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","abrupt","_graphicsView","hitTest","filter","popupTemplate","stop","_x","_this4","_getNetworkFeatureUid","Array","isArray","length","j","map","isCollection","at","V","toArray","uid","e","_addHighlight","_removeHighlight","_hitTest","_callee2","_this5","_context2","suspended","reverse","type","mapPoint","networkFeature","_x2","_x3","updating","processUpdate","viewChange","_step","_iterator","_createForOfIteratorHelper","done","has","set","err","f","_updateHighlight","toGraphic","sourceLayer","_this6","view","m","featuresTilingScheme","w","container","graphics","requestUpdateCallback","requestUpdate","addChild","removeChild","indexOf","_step2","_iterator2","delete","_this7","removed","removeMany","_step3","_iterator3","removeHandles","added","addMany","_createGraphic","symbol","_step4","_iterator4","_loop","addHandles","o","geometry","_updateGraphic","sort","_getDrawOrder","add","graphicUpdateHandler","from","keys","setHighlight","_","a","prototype","I","h","_r","attributeView","update","children","some","hasData","bindTextures","context","_getPrototypeOf","call","drawPhase","MAP","_renderChildren","hasHighlight","HIGHLIGHT","_renderHighlight","_boundsRenderer","doRender","painter","effects","highlight","bind","defines","draw","unbind"],"sourceRoot":""}